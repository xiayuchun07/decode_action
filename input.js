function a0_0x7b02(){const _0x156518=[':room\x20manager\x20schedule\x20task','avatar','8BOpunF','unionData','roomList','createData','toLocaleString','error','142179cuWbXZ','exports','14816978wRMegc','217VfYcAo','info','[robotScheduler][','concat','frontendId','1262391MxJuuh','\x20scoreLowLimit\x20=\x20',']\x20join\x20success\x20score\x20limited\x20uid\x20=\x20','robotJoinRoom','pomelo','YYYY-MM-DD\x20HH:mm:ss','ownerUid','3395486BbSLWI','0\x200\x200\x20*\x20*\x20*','scheduleJob',']\x20robotJoinRoom\x20robotUid\x20=\x20','isRobot','beforeShutdown','nickname','robotReady','2494020VuqhuM','maxPlayerCount','onDestroy','给下级','userInfo',']\x20join\x20fail\x20\x20=\x20','pomelo-logger','ROOM_NOT_EXIST','toFixed','unionInfo','10asPbvM','connector','309592mnCgZU','6uYTqZm','now','startScheduler','cancelJob','delete\x20union\x20id:','app','dailyTaskScheduler','../../../dao/userDao','gameRuleDetail','getUnion','[robotScheduler]\x20robotJoinRoom\x20union\x20is\x20not\x20exit','unionList','scoreModifyRecordModel','format','canEnter','dismissRoom','stopScheduler','logic','../../../util/utils','uid','roomID','saveScore','getServersByType','2507491XUacJe','roomDismissed','parse','weekTaskSchedulerID','roomRuleList','updateUserDataByUid','abs','random',']\x20room\x20Dismissed\x20=\x20','push','53410250aFakxD','getRandomNum','removeUnionCache',']\x20auto\x20join\x20robotCount\x20=\x20','buildGameRoomUserInfo','isUserInRoom',']\x20maxRobot\x20=\x20','floor','bind','dailyClear','\x20score\x20=\x20','findOneData','includes','userModel','userArr','checkEmptyRoomList',']\x20autoCreateRoom\x20union\x20is\x20not\x20exit','getRoomFrameByID','robotCount','MODIFY_UP','../../../util/dispatcher','1009082MDrlZM','leaveRoom','FAIL','dailyTaskSchedulerID','getLogger','userLeaveRoom','safeScore','robot','init','165879JQjajS','gameRule','todayWin','../../../dao/commonDao','joinWatch','toString','updateAllData','score','7151708FLQslK','../../../constant/code','gameStarted','createTime','dispatch','createDataArr','splice','checkUserScore','loseScore','getUnionByRoomID','../../../constant/enumeration','477765aSSzOw','shift','scoreLowLimit','scoreChangeType','catch','curBureau','union\x20not\x20exit','dailyTaskSchedulerClearData','2339916terTYs','winScore','updateUserDataNotify','4DTdDDk','stack','../../../services/userInfoServices','addAllRobot','filter','warn','find',']\x20auto\x20create\x20robotCount\x20=\x20','game','findOneAndUpdate','getUserDataByUid','findData','userScoreChangeRecordModel','unionID','showLogTime','\x20\x20gameType\x20=\x20','add','\x20curCount\x20=\x20'];a0_0x7b02=function(){return _0x156518;};return a0_0x7b02();}const a0_0x266188=a0_0x4dbb;(function(_0x3a7ea9,_0x27f075){const _0x5a8fee=a0_0x4dbb,_0x463d33=_0x3a7ea9();while(!![]){try{const _0x3c1f90=-parseInt(_0x5a8fee(0x1f3))/0x1+parseInt(_0x5a8fee(0x24d))/0x2+-parseInt(_0x5a8fee(0x1fb))/0x3*(-parseInt(_0x5a8fee(0x274))/0x4)+parseInt(_0x5a8fee(0x20a))/0x5*(parseInt(_0x5a8fee(0x217))/0x6)+-parseInt(_0x5a8fee(0x22e))/0x7*(-parseInt(_0x5a8fee(0x1ed))/0x8)+-parseInt(_0x5a8fee(0x256))/0x9+parseInt(_0x5a8fee(0x214))/0xa*(-parseInt(_0x5a8fee(0x1f5))/0xb);if(_0x3c1f90===_0x27f075)break;else _0x463d33['push'](_0x463d33['shift']());}catch(_0x31fe42){_0x463d33['push'](_0x463d33['shift']());}}}(a0_0x7b02,0x4313b));const a0_0x583b2d=a0_0x2eeb;function a0_0x2eeb(_0x541341,_0x31489d){const _0x2f37a4=a0_0x17c1();return a0_0x2eeb=function(_0x4c7982,_0x45a47f){_0x4c7982=_0x4c7982-0x119;let _0x128b3b=_0x2f37a4[_0x4c7982];return _0x128b3b;},a0_0x2eeb(_0x541341,_0x31489d);}(function(_0x11e40f,_0x5c51d6){const _0x10fea4=a0_0x4dbb,_0x2b2ac6=a0_0x2eeb,_0x5ce360=_0x11e40f();while(!![]){try{const _0x36240a=parseInt(_0x2b2ac6(0x192))/0x1*(-parseInt(_0x2b2ac6(0x144))/0x2)+parseInt(_0x2b2ac6(0x1a3))/0x3+-parseInt(_0x2b2ac6(0x146))/0x4+-parseInt(_0x2b2ac6(0x132))/0x5*(parseInt(_0x2b2ac6(0x18e))/0x6)+-parseInt(_0x2b2ac6(0x133))/0x7*(-parseInt(_0x2b2ac6(0x16c))/0x8)+-parseInt(_0x2b2ac6(0x19f))/0x9+parseInt(_0x2b2ac6(0x16f))/0xa;if(_0x36240a===_0x5c51d6)break;else _0x5ce360[_0x10fea4(0x237)](_0x5ce360[_0x10fea4(0x26a)]());}catch(_0x24a23b){_0x5ce360['push'](_0x5ce360['shift']());}}}(a0_0x17c1,0xe14eb));function a0_0x4dbb(_0x1a58e4,_0x42b47d){const _0x7b0203=a0_0x7b02();return a0_0x4dbb=function(_0x4dbb06,_0x21b821){_0x4dbb06=_0x4dbb06-0x1df;let _0x24d4e7=_0x7b0203[_0x4dbb06];return _0x24d4e7;},a0_0x4dbb(_0x1a58e4,_0x42b47d);}function a0_0x17c1(){const _0x4be601=a0_0x4dbb,_0x47e6d2=[_0x4be601(0x244),_0x4be601(0x267),'add',_0x4be601(0x213),'opening','isUserInRoom',_0x4be601(0x232),_0x4be601(0x21b),_0x4be601(0x230),_0x4be601(0x236),'robotCreateRoom',_0x4be601(0x1fe),_0x4be601(0x276),_0x4be601(0x26f),_0x4be601(0x1e8),_0x4be601(0x25c),'hasOwnProperty',_0x4be601(0x20b),_0x4be601(0x1ff),_0x4be601(0x22c),'robotScheduler',_0x4be601(0x21c),'sort',_0x4be601(0x22a),'gameType',_0x4be601(0x1f0),_0x4be601(0x1e6),'joinRoom',_0x4be601(0x222),_0x4be601(0x26e),_0x4be601(0x259),_0x4be601(0x265),_0x4be601(0x269),_0x4be601(0x1f6),'dailyTaskScheduler',_0x4be601(0x258),_0x4be601(0x1ec),_0x4be601(0x206),_0x4be601(0x20e),_0x4be601(0x1fa),_0x4be601(0x24e),_0x4be601(0x237),'gameRule',_0x4be601(0x1df),_0x4be601(0x246),'order',_0x4be601(0x201),_0x4be601(0x1ea),_0x4be601(0x241),'winScore',_0x4be601(0x202),_0x4be601(0x25b),_0x4be601(0x25e),_0x4be601(0x203),_0x4be601(0x210),_0x4be601(0x23b),_0x4be601(0x23c),'MODIFY_LOW',_0x4be601(0x1ef),'union\x20count:',_0x4be601(0x26b),_0x4be601(0x220),'moment',_0x4be601(0x240),'updateUserDataAndUnlock',_0x4be601(0x261),'createRoom',_0x4be601(0x22d),_0x4be601(0x219),_0x4be601(0x277),'../../../API/rpcAPI',_0x4be601(0x231),_0x4be601(0x253),_0x4be601(0x22f),'destroyRoom',_0x4be601(0x1f2),'_id',_0x4be601(0x1e5),'createNewRoomID',_0x4be601(0x229),_0x4be601(0x270),_0x4be601(0x21a),_0x4be601(0x23e),_0x4be601(0x20f),_0x4be601(0x23f),'curServer',_0x4be601(0x204),_0x4be601(0x226),'\x20gameType\x20=\x20',_0x4be601(0x248),_0x4be601(0x216),_0x4be601(0x24b),_0x4be601(0x275),_0x4be601(0x238),_0x4be601(0x1e3),_0x4be601(0x1fd),'score',_0x4be601(0x279),_0x4be601(0x22b),_0x4be601(0x215),_0x4be601(0x234),_0x4be601(0x207),_0x4be601(0x23a),_0x4be601(0x268),_0x4be601(0x209),_0x4be601(0x245),_0x4be601(0x260),_0x4be601(0x1f4),_0x4be601(0x266),_0x4be601(0x1eb),_0x4be601(0x24c),']\x20game\x20started\x20canEnter\x20=\x20',_0x4be601(0x239),'scoreChangeType','onDestroy','findData',_0x4be601(0x1e7),_0x4be601(0x243),'./union','pomelo-scheduler',_0x4be601(0x264),_0x4be601(0x263),_0x4be601(0x223),'\x20nikeName\x20=\x20','78RYgjxf',_0x4be601(0x252),_0x4be601(0x273),'isShouldDelete','1qzVJoE',_0x4be601(0x249),_0x4be601(0x255),_0x4be601(0x251),_0x4be601(0x25a),_0x4be601(0x242),'union\x20id:\x20',_0x4be601(0x208),_0x4be601(0x1ee),'\x20maxCount\x20=\x20','userScoreDetailModel',_0x4be601(0x1f7),_0x4be601(0x1f8),'15029532omDggO',_0x4be601(0x1e2),_0x4be601(0x250),_0x4be601(0x218),_0x4be601(0x271),_0x4be601(0x227),_0x4be601(0x1f9),_0x4be601(0x262),_0x4be601(0x20d),_0x4be601(0x247),_0x4be601(0x224),_0x4be601(0x235),'length',_0x4be601(0x1e0),'DZPK','\x20resCode\x20=\x20',_0x4be601(0x26d),'manager',_0x4be601(0x278),'scheduleJobID'];return a0_0x17c1=function(){return _0x47e6d2;},a0_0x17c1();}let code=require(a0_0x266188(0x25f)),scheduler=require(a0_0x583b2d(0x189)),logger=require(a0_0x266188(0x210))['getLogger'](a0_0x266188(0x228)),utils=require(a0_0x583b2d(0x161)),enumeration=require(a0_0x583b2d(0x179)),pomelo=require(a0_0x583b2d(0x124)),moment=require(a0_0x583b2d(0x150)),Union=require(a0_0x583b2d(0x188)),rpcAPI=require(a0_0x583b2d(0x158)),commonDao=require(a0_0x583b2d(0x130)),userDao=require(a0_0x266188(0x21e)),userInfoServices=require(a0_0x583b2d(0x11e)),dispatch=require(a0_0x583b2d(0x180)),robotlogger=require(a0_0x583b2d(0x148))[a0_0x583b2d(0x195)](a0_0x266188(0x254)),isShowLog=![],exp=module[a0_0x583b2d(0x17d)],UNION_MAX_DELAY_DELETE_TIME=0x18*0x3c*0x3c*0x3e8,IS_AUTO_ADD_SCORE=!![],IS_WIN_LOSE_LIMIT=!![];exp[a0_0x583b2d(0x194)]=function(){const _0x53db89=a0_0x583b2d;this[_0x53db89(0x12e)]={},this[_0x53db89(0x186)]=0x0,this[_0x53db89(0x1b2)]=-0x1,this[_0x53db89(0x156)]();},exp[a0_0x266188(0x207)]=async function(_0x43f220){const _0x6dca3f=a0_0x583b2d;scheduler[_0x6dca3f(0x163)](this[_0x6dca3f(0x1a1)]),scheduler[_0x6dca3f(0x163)](this[_0x6dca3f(0x159)]),await commonDao[_0x6dca3f(0x121)](_0x6dca3f(0x17b),{'$or':[{'roomID':{'$ne':''}},{'frontendId':{'$ne':''}}]},{'roomID':'','frontendId':''}),_0x43f220();};let scheduleTask=function(_0x44477c){const _0x30c396=a0_0x266188,_0x5909e4=a0_0x583b2d;let _0xa0c982=_0x44477c[_0x5909e4(0x1b0)],_0x2dec31=new Date()[_0x30c396(0x1f1)]();logger[_0x30c396(0x1f7)](pomelo[_0x5909e4(0x127)][_0x5909e4(0x167)]['id']+_0x5909e4(0x17f)),logger[_0x5909e4(0x19d)](_0x2dec31);let _0x1cd70f=0x0;for(let _0x317665 in _0xa0c982[_0x5909e4(0x12e)]){if(_0xa0c982[_0x5909e4(0x12e)][_0x5909e4(0x122)](_0x317665)){let _0x2140bb=_0xa0c982[_0x5909e4(0x12e)][_0x317665];logger[_0x5909e4(0x19d)](_0x5909e4(0x198)+_0x317665),_0x2140bb[_0x5909e4(0x191)](UNION_MAX_DELAY_DELETE_TIME)?(_0x2140bb[_0x30c396(0x20c)](),delete _0xa0c982[_0x5909e4(0x12e)][_0x317665],logger[_0x5909e4(0x19d)](_0x5909e4(0x119)+_0x317665)):_0x1cd70f++;}}logger[_0x5909e4(0x19d)](_0x5909e4(0x14d)+_0x1cd70f);};exp[a0_0x266188(0x21d)]=function(){const _0x12c972=a0_0x266188,_0x7441f8=a0_0x583b2d;logger[_0x12c972(0x1f7)](_0x7441f8(0x162));for(let _0xd78064 in exp[_0x7441f8(0x12e)]){if(exp[_0x7441f8(0x12e)][_0x7441f8(0x122)](_0xd78064)){let _0x4fab27=exp[_0x7441f8(0x12e)][_0xd78064];_0x4fab27[_0x7441f8(0x142)]();}}},exp[a0_0x583b2d(0x156)]=function(){const _0x3ee48c=a0_0x266188,_0x87371d=a0_0x583b2d;this[_0x87371d(0x1b2)]=scheduler[_0x87371d(0x168)]({'period':0x3c*0x3c*0x3e8},scheduleTask,{'manager':this}),this[_0x87371d(0x1a1)]=scheduler[_0x87371d(0x168)](_0x87371d(0x147),exp[_0x87371d(0x134)]),this[_0x87371d(0x126)]=scheduler[_0x3ee48c(0x204)]('0/10\x20*\x20*\x20*\x20*\x20*',()=>{const _0x4b9944=_0x3ee48c,_0x314ebe=_0x87371d;let _0x4ad4e1=moment()[_0x4b9944(0x224)]('x');_0x4ad4e1>this[_0x314ebe(0x186)]&&(this[_0x4b9944(0x1e7)]=moment()[_0x4b9944(0x1e9)](0x1,'m')[_0x314ebe(0x1a9)]('x')),this[_0x314ebe(0x1a8)]();});},exp[a0_0x266188(0x227)]=function(){const _0x2c7371=a0_0x583b2d;scheduler[_0x2c7371(0x163)](this[_0x2c7371(0x1b2)]),scheduler[_0x2c7371(0x163)](this['dailyTaskSchedulerID']);},exp[a0_0x583b2d(0x177)]=function(_0x4a7996){const _0x56693c=a0_0x583b2d;this[_0x56693c(0x1a4)](),_0x4a7996();},exp[a0_0x583b2d(0x14f)]=async function(_0x4b24ff){const _0x3b9484=a0_0x583b2d;if(!this[_0x3b9484(0x12e)][_0x4b24ff]){let _0x27d223=new Union(_0x4b24ff);this[_0x3b9484(0x12e)][_0x4b24ff]=_0x27d223,await _0x27d223[_0x3b9484(0x194)]();}return this[_0x3b9484(0x12e)][_0x4b24ff];},exp[a0_0x583b2d(0x178)]=function(_0x542ebb){const _0x3f7135=a0_0x583b2d;if(!this['unionList'][_0x542ebb])return;let _0x441090=this[_0x3f7135(0x12e)][_0x542ebb];_0x441090[_0x3f7135(0x184)](),delete this[_0x3f7135(0x12e)][_0x542ebb],logger['info'](_0x3f7135(0x119)+_0x542ebb);},exp[a0_0x583b2d(0x12d)]=async function(_0x1e6d0f,_0x4bc48b){const _0x4f54dc=a0_0x266188,_0x435f0a=a0_0x583b2d;let _0x2416a9=this[_0x4f54dc(0x267)](_0x4bc48b);if(!_0x2416a9)return code[_0x4f54dc(0x211)];return await _0x2416a9[_0x435f0a(0x12d)](_0x4bc48b,_0x1e6d0f);},exp[a0_0x583b2d(0x196)]=async function(_0x238296,_0x45962f){const _0x2520ae=a0_0x266188,_0x2bc3cd=a0_0x583b2d;let _0x5b507f=this[_0x2bc3cd(0x1b4)](_0x45962f);if(!_0x5b507f)return code[_0x2520ae(0x211)];return await _0x5b507f[_0x2bc3cd(0x196)](_0x45962f,_0x238296);},exp[a0_0x583b2d(0x13a)]=async function(_0x40082e,_0x46659d){const _0x3557e2=a0_0x583b2d;let _0x253c66=this[_0x3557e2(0x193)](_0x40082e);if(!_0x253c66)return;return await _0x253c66['userOffLine'](_0x46659d);},exp[a0_0x583b2d(0x169)]=function(_0x3c0898){const _0x17d944=a0_0x266188,_0x57a63a=a0_0x583b2d;let _0x33a4cd=this[_0x57a63a(0x1b4)](_0x3c0898);if(!_0x33a4cd){logger[_0x57a63a(0x173)](_0x17d944(0x226),_0x57a63a(0x11f));return;}_0x33a4cd[_0x57a63a(0x15c)](_0x3c0898);},exp[a0_0x266188(0x249)]=function(_0x3a1002){const _0x44340d=a0_0x266188,_0x352053=a0_0x583b2d;for(let _0x110a88 in this[_0x44340d(0x222)]){if(this['unionList'][_0x352053(0x122)](_0x110a88)){if(!!this[_0x352053(0x12e)][_0x110a88][_0x352053(0x14c)][_0x3a1002])return this[_0x352053(0x12e)][_0x110a88][_0x352053(0x14c)][_0x3a1002];}}return null;},exp[a0_0x583b2d(0x1b4)]=function(_0x1704a8){const _0x45101c=a0_0x266188,_0xa2e09=a0_0x583b2d;for(let _0x32735b in this[_0x45101c(0x222)]){if(this[_0xa2e09(0x12e)][_0xa2e09(0x122)](_0x32735b)){if(!!this[_0xa2e09(0x12e)][_0x32735b][_0xa2e09(0x14c)][_0x1704a8])return this[_0x45101c(0x222)][_0x32735b];}}return null;},exp[a0_0x583b2d(0x1b8)]=function(_0x3e8a4d,_0x3d4208){const _0xd621fe=a0_0x266188,_0x1bbdad=a0_0x583b2d;let _0x404d24=this[_0x1bbdad(0x193)](_0x3d4208);return _0x404d24&&_0x404d24[_0xd621fe(0x23d)](_0x3e8a4d);},exp[a0_0x583b2d(0x160)]=function(){const _0x1f88f7=a0_0x266188,_0x17f345=a0_0x583b2d;let _0x2bb8de=pomelo[_0x17f345(0x127)][_0x1f88f7(0x22d)](_0x1f88f7(0x1e1)),_0x11a2bf=0x0;for(let _0x1e3509=0x0;_0x1e3509<_0x2bb8de[_0x17f345(0x1ab)];++_0x1e3509){if(_0x2bb8de[_0x1e3509]['id']===pomelo[_0x17f345(0x127)][_0x17f345(0x167)]['id']){_0x11a2bf=_0x1e3509;break;}}let _0x57b308=-0x1,_0x1f19c3=Math[_0x17f345(0x166)](0x186a0/_0x2bb8de[_0x17f345(0x1ab)])+0x1,_0x5b699f=Math[_0x17f345(0x166)](0xf4240/_0x2bb8de[_0x17f345(0x1ab)])-0x1;do{_0x57b308=utils[_0x17f345(0x182)](_0x1f19c3,_0x5b699f)*_0x2bb8de[_0x17f345(0x1ab)]+_0x11a2bf;}while(!!this[_0x17f345(0x193)](_0x57b308));return _0x57b308;},exp[a0_0x583b2d(0x1a8)]=async()=>{const _0x1909ff=a0_0x266188,_0x10072b=a0_0x583b2d;for(let _0x15feeb in this['unionList']){if(this[_0x10072b(0x12e)][_0x10072b(0x122)](_0x15feeb)){if(!!this['unionList'][_0x15feeb]){if(!this['unionList'][_0x15feeb][_0x10072b(0x19a)])continue;if(!this[_0x10072b(0x12e)][_0x15feeb]['unionData'][_0x10072b(0x1b7)])continue;let _0x24e6eb=this[_0x10072b(0x12e)][_0x15feeb]['unionData'][_0x10072b(0x140)],_0x1f9d0c={'unionID':_0x15feeb,'isReback':!![],'isRobot':!![],'roomID':''},_0x443986=await commonDao[_0x1909ff(0x1e4)](_0x10072b(0x17b),_0x1f9d0c);for(let _0x2d4579=0x0;_0x2d4579<_0x443986[_0x10072b(0x1ab)];_0x2d4579++){let _0x4bca65=_0x443986[_0x2d4579],_0x58a933=_0x4bca65[_0x10072b(0x1b6)][_0x10072b(0x13d)](function(_0x38d2e9){const _0x5d65eb=_0x10072b;return _0x38d2e9[_0x5d65eb(0x12c)][_0x5d65eb(0x145)]()===_0x15feeb[_0x5d65eb(0x145)]();});if(_0x58a933){let _0x1d243e=parseFloat(((_0x58a933[_0x10072b(0x125)]||0x0)+_0x58a933[_0x10072b(0x172)]+_0x58a933[_0x10072b(0x15a)])[_0x1909ff(0x212)](0x2)),_0x2976ba=await commonDao[_0x10072b(0x1a0)](_0x1909ff(0x245),{'uid':this[_0x10072b(0x12e)][_0x15feeb][_0x10072b(0x19a)][_0x10072b(0x140)],'unionInfo.unionID':_0x15feeb},{'$inc':{'unionInfo.$.score':_0x1d243e}});_0x2976ba['frontendId']&&await userInfoServices[_0x10072b(0x190)](_0x2976ba[_0x10072b(0x129)],_0x2976ba[_0x10072b(0x139)],{'unionInfo':_0x2976ba[_0x10072b(0x1b6)]})[_0x10072b(0x1af)](_0xc6917=>{const _0x98d5eb=_0x1909ff,_0x285901=_0x10072b;robotlogger[_0x285901(0x15d)](_0xc6917[_0x98d5eb(0x275)]);}),await commonDao[_0x10072b(0x1a0)](_0x10072b(0x17b),{'uid':_0x4bca65[_0x10072b(0x129)],'isRobot':!![],'isReback':!![]},{'unionInfo':[],'unionID':0x0,'isReback':![]});}}let _0x202564=this[_0x10072b(0x12e)][_0x15feeb][_0x10072b(0x14c)],_0x41d5e9=this[_0x10072b(0x12e)][_0x15feeb][_0x1909ff(0x1ee)][_0x10072b(0x1b9)],_0x1d9290=[enumeration[_0x10072b(0x12a)][_0x10072b(0x1ad)]];_0x41d5e9=_0x41d5e9[_0x10072b(0x1b1)](_0x4f2bd9=>!_0x1d9290[_0x10072b(0x1b3)](_0x4f2bd9[_0x10072b(0x12a)])),_0x41d5e9[_0x10072b(0x1ab)]>0x0&&await this[_0x10072b(0x11c)](_0x15feeb,_0x41d5e9);if(_0x202564!={})for(let _0x3d90b2 in _0x202564){if(_0x202564[_0x3d90b2]){let _0x4801cd=_0x202564[_0x3d90b2],_0x296866=_0x4801cd[_0x10072b(0x17c)],_0x27c4a0=_0x4801cd[_0x10072b(0x13c)],_0x26d23e=_0x4801cd['gameType'];if(_0x1d9290[_0x10072b(0x1b3)](_0x26d23e))continue;let _0x60660=_0x4801cd[_0x10072b(0x13e)],_0xedfa31=0x0;for(let _0x392844 in _0x60660){let _0x4f572a=_0x60660[_0x392844];_0x4f572a[_0x10072b(0x138)][_0x10072b(0x137)]&&(_0xedfa31+=0x1);}let _0x25498e=_0x27c4a0[_0x1909ff(0x24a)]||0x0;_0x26d23e>=0xc8&&(_0x25498e=0x14);if(_0x25498e==0x0||_0xedfa31>=_0x25498e){if(isShowLog)robotlogger[_0x10072b(0x19d)](_0x10072b(0x19e)+_0x15feeb+_0x10072b(0x164)+_0x25498e+_0x10072b(0x141)+_0xedfa31+_0x10072b(0x120)+_0x26d23e+'\x20');continue;}if(_0x4801cd[_0x10072b(0x15b)]){if(isShowLog)robotlogger[_0x10072b(0x19d)](_0x1909ff(0x1f8)+_0x15feeb+_0x10072b(0x11b)+_0x4801cd[_0x10072b(0x15b)]+_0x10072b(0x16a)+_0x26d23e+'\x20');continue;}if(_0x4801cd[_0x10072b(0x12f)]>=0x1&&_0x27c4a0&&!_0x27c4a0[_0x1909ff(0x225)]){if(isShowLog)robotlogger[_0x1909ff(0x1f7)](_0x10072b(0x19e)+_0x15feeb+_0x10072b(0x181)+_0x27c4a0[_0x1909ff(0x225)]+_0x10072b(0x16a)+_0x26d23e+'\x20');continue;}let _0x7a0c10=moment(_0x4801cd[_0x10072b(0x153)])[_0x10072b(0x1a9)](_0x1909ff(0x200)),_0x185a1c=moment()[_0x10072b(0x1b5)](-0x2,'h')[_0x10072b(0x1a9)]('x'),_0x45166f=parseInt(moment()[_0x10072b(0x1a9)]('H')),_0x34ed7b={'beginTime':{'$lte':_0x45166f},'endTime':{'$gt':_0x45166f},'unionID':parseInt(_0x15feeb),'isReback':{'$ne':!![]},'isRobot':!![],'roomID':'','isBind':!![],'gameType':{'$in':[0x0,_0x26d23e]},'robotType':{'$in':[0x1]}},_0xdf6f12=await commonDao[_0x10072b(0x185)](_0x10072b(0x17b),_0x34ed7b,{'lastLoginTime':0x1}),_0x5a8200=!_0x25498e||_0x25498e-_0xedfa31>0x3?0x3:_0x25498e-_0xedfa31,_0x3738bd=0x0;if(isShowLog)robotlogger[_0x1909ff(0x1f7)](_0x1909ff(0x1f8)+_0x15feeb+_0x10072b(0x149)+_0xdf6f12[_0x10072b(0x1ab)]+_0x10072b(0x19b)+_0x5a8200+_0x10072b(0x16a)+_0x26d23e+'\x20');if(_0xdf6f12&&_0xdf6f12[_0x10072b(0x1ab)]>0x0)for(let _0x17f482=0x0;_0x17f482<_0xdf6f12[_0x10072b(0x1ab)]&&_0x3738bd<_0x5a8200;_0x17f482++){let _0x39b076=_0xdf6f12[_0x17f482],_0x532c74=_0x39b076[_0x10072b(0x1b6)][_0x10072b(0x13d)](function(_0x4fb98a){const _0x36a817=_0x10072b;return _0x4fb98a[_0x36a817(0x12c)][_0x36a817(0x145)]()===_0x15feeb[_0x36a817(0x145)]();}[_0x10072b(0x151)](this));if(!_0x532c74)continue;let _0x55b68c=await this[_0x10072b(0x131)](_0x39b076[_0x10072b(0x129)],_0x15feeb,_0x39b076[_0x10072b(0x143)],_0x39b076[_0x10072b(0x17e)],_0x532c74,_0x27c4a0[_0x10072b(0x14e)],_0x24e6eb);if(_0x55b68c){if(isShowLog)robotlogger[_0x10072b(0x19d)](_0x1909ff(0x1f8)+_0x15feeb+_0x10072b(0x171)+_0x39b076[_0x10072b(0x129)]+_0x10072b(0x197)+_0x532c74[_0x10072b(0x172)]+_0x1909ff(0x1fc)+_0x27c4a0[_0x10072b(0x14e)]);_0x39b076=await commonDao[_0x10072b(0x187)](_0x10072b(0x17b),{'uid':_0x39b076[_0x10072b(0x129)]});let _0x3238be=await this[_0x10072b(0x11d)](_0x15feeb,_0x39b076,_0x3d90b2);_0x3238be==code['OK']&&(_0x3738bd+=0x1);}else{if(isShowLog)robotlogger[_0x10072b(0x19d)](_0x1909ff(0x1f8)+_0x15feeb+_0x10072b(0x165)+_0x55b68c+_0x10072b(0x16a)+_0x26d23e+'\x20');continue;}}}}}}}},exp['robotCreateRoom']=async function(_0xf16f62,_0x24c17a){const _0x10505a=a0_0x266188,_0x47ca9a=a0_0x583b2d;let _0x52bfdb=await this[_0x47ca9a(0x14f)](_0xf16f62);!_0x52bfdb&&robotlogger[_0x10505a(0x1f7)](_0x10505a(0x1f8)+_0xf16f62+_0x47ca9a(0x16b));let _0x41a0f4=[],_0x5c7664=[],_0x180550=[],_0x3fee45={},_0x2a11a7=this[_0x47ca9a(0x12e)][_0xf16f62][_0x47ca9a(0x14c)];for(let _0x420447 in _0x2a11a7){let _0x17d516=_0x2a11a7[_0x420447],_0xfb2ace=_0x17d516[_0x47ca9a(0x13c)][_0x47ca9a(0x15e)],_0xf759b6=_0x17d516['gameRule'][_0x47ca9a(0x12a)];!_0x3fee45[_0xf759b6]&&(_0x3fee45[_0xf759b6]={}),!_0x3fee45[_0xf759b6][_0xfb2ace]&&(_0x3fee45[_0xf759b6][_0xfb2ace]=0x0),_0x3fee45[_0xf759b6][_0xfb2ace]+=0x1,!_0x180550[_0x47ca9a(0x1b3)](_0xfb2ace)&&_0x180550[_0x10505a(0x237)](_0xfb2ace);}let _0x492b48={};for(let _0x1910e8 in _0x3fee45){let _0x50296a=_0x3fee45[_0x1910e8],_0x5bfc82=0x0;for(let _0xe10b15 in _0x50296a){_0x50296a[_0xe10b15]>_0x5bfc82&&(_0x5bfc82=_0x50296a[_0xe10b15]);}_0x492b48[_0x1910e8]=_0x5bfc82;}for(let _0x2d8212=0x0;_0x2d8212<_0x24c17a[_0x47ca9a(0x1ab)];_0x2d8212++){let _0x4b0469=_0x24c17a[_0x2d8212],_0x3cf129=_0x4b0469[_0x47ca9a(0x15e)][_0x10505a(0x25b)](),_0x1669db=_0x4b0469[_0x47ca9a(0x12a)];if(_0x1669db>=0xc8)continue;let _0x479efb=_0x3fee45[_0x1669db]&&_0x3fee45[_0x1669db][_0x3cf129]||0x0,_0x5e6406=_0x492b48[_0x1669db]||0x0;!_0x180550[_0x47ca9a(0x1b3)](_0x3cf129)?_0x41a0f4[_0x47ca9a(0x13b)]({'gameRuleDetail':_0x4b0469,'order':0x0}):_0x180550[_0x47ca9a(0x1b3)](_0x3cf129)&&_0x479efb<_0x5e6406?_0x41a0f4[_0x47ca9a(0x13b)]({'gameRuleDetail':_0x4b0469,'order':_0x479efb}):_0x5c7664[_0x47ca9a(0x13b)]({'gameRuleDetail':_0x4b0469,'order':0x270f});}_0x5c7664=_0x41a0f4[_0x47ca9a(0x1a5)](_0x5c7664),_0x5c7664[_0x47ca9a(0x128)]((_0x1dffc9,_0x23e5a8)=>{const _0x34a022=_0x47ca9a;return _0x1dffc9['order']-_0x23e5a8[_0x34a022(0x13f)];});for(let _0x3513a4=0x0;_0x3513a4<_0x5c7664[_0x47ca9a(0x1ab)];_0x3513a4++){let _0x5a1dc0=_0x5c7664[_0x3513a4][_0x10505a(0x21f)],_0x11a6da=_0x5a1dc0[_0x47ca9a(0x12a)],_0x1a1b78=JSON[_0x47ca9a(0x11a)](_0x5a1dc0[_0x47ca9a(0x13c)])||null,_0x59b68e=moment()[_0x47ca9a(0x1b5)](-0x2,'h')[_0x47ca9a(0x1a9)]('x'),_0x2c981c=parseInt(moment()[_0x10505a(0x224)]('H')),_0x3079cb={'unionID':_0xf16f62,'isRobot':!![],'isReback':{'$ne':!![]},'roomID':'','gameType':{'$in':[_0x11a6da]},'isBind':!![],'robotType':0x0},_0x4623f5=await commonDao[_0x47ca9a(0x185)](_0x47ca9a(0x17b),_0x3079cb,{'lastLoginTime':0x1}),_0x1cbf6a=_0x1a1b78[_0x47ca9a(0x123)],_0x2b9911=[];for(let _0x403428=0x0;_0x403428<_0x4623f5[_0x47ca9a(0x1ab)];_0x403428++){let _0x346783=_0x4623f5[_0x403428],_0x24f623=_0x346783[_0x10505a(0x213)]['find'](function(_0x41a6ef){const _0x166394=_0x47ca9a;return _0x41a6ef[_0x166394(0x12c)][_0x166394(0x145)]()===_0xf16f62[_0x166394(0x145)]();}[_0x47ca9a(0x151)](this)),_0x260954=_0x52bfdb[_0x47ca9a(0x19a)][_0x47ca9a(0x140)],_0x439f31=await this[_0x47ca9a(0x131)](_0x346783[_0x47ca9a(0x129)],_0xf16f62,_0x346783[_0x47ca9a(0x143)],_0x346783[_0x47ca9a(0x17e)],_0x24f623,_0x1a1b78[_0x47ca9a(0x14e)],_0x260954,!![]);_0x439f31&&_0x2b9911[_0x47ca9a(0x13b)](_0x346783);}if(_0x2b9911[_0x47ca9a(0x1ab)]>=_0x1cbf6a){let _0x16c6c7=_0x2b9911['pop'](),_0x4fdefc=_0x16c6c7[_0x47ca9a(0x1b6)][_0x47ca9a(0x13d)](function(_0x3df8b1){const _0x56b614=_0x47ca9a;return _0x3df8b1['unionID']['toString']()===_0xf16f62[_0x56b614(0x145)]();}[_0x47ca9a(0x151)](this));if(_0x4fdefc&&_0x5a1dc0[_0x47ca9a(0x13c)]){if(_0x4fdefc[_0x47ca9a(0x172)]<_0x1a1b78[_0x47ca9a(0x14e)])continue;}let _0xd10fe3=await _0x52bfdb[_0x47ca9a(0x154)](_0x5a1dc0[_0x47ca9a(0x15e)][_0x47ca9a(0x145)](),_0x5a1dc0[_0x47ca9a(0x13c)],userInfoServices[_0x47ca9a(0x14a)](_0x16c6c7));if(_0xd10fe3==code['OK']){let _0xc29da3=await _0x52bfdb[_0x10505a(0x209)](_0x16c6c7[_0x47ca9a(0x129)]),_0x1b501f=dispatch[_0x47ca9a(0x1a6)](_0x16c6c7[_0x47ca9a(0x129)],pomelo[_0x47ca9a(0x127)][_0x47ca9a(0x155)](_0x47ca9a(0x175))),_0x4cd6af=moment()[_0x47ca9a(0x1a9)]('x'),_0x253ddd=await userDao[_0x10505a(0x233)](_0x16c6c7[_0x47ca9a(0x129)],{'frontendId':_0x1b501f['id'],'lastLoginTime':_0x4cd6af}),_0x480d33=_0x253ddd[_0x47ca9a(0x174)];_0x2b9911[_0x47ca9a(0x128)]((_0x24f8c6,_0x25c591)=>{const _0x2272b5=_0x47ca9a;return Math[_0x2272b5(0x1aa)]()>0.5;});let _0xc55229=_0x2b9911[_0x47ca9a(0x18a)](0x0,_0x1cbf6a-0x1);for(let _0x322fcc=0x0;_0x322fcc<_0xc55229[_0x47ca9a(0x1ab)];_0x322fcc++){let _0x485509=_0xc55229[_0x322fcc];await this[_0x10505a(0x1fe)](_0xf16f62,_0x485509,_0x480d33);}}}let _0x46b6df={'beginTime':{'$lte':_0x2c981c},'endTime':{'$gt':_0x2c981c},'unionID':parseInt(_0xf16f62),'isRobot':!![],'isReback':{'$ne':!![]},'roomID':'','gameType':{'$in':[0x0,_0x11a6da]},'isBind':!![],'robotType':{'$in':[0x2]}},_0x2e98d4=await commonDao[_0x47ca9a(0x185)](_0x47ca9a(0x17b),_0x46b6df,{'lastLoginTime':0x1});if(isShowLog)robotlogger[_0x10505a(0x1f7)](_0x47ca9a(0x19e)+_0xf16f62+_0x47ca9a(0x1ac)+_0x2e98d4[_0x47ca9a(0x1ab)]+_0x47ca9a(0x16a)+_0x11a6da+'\x20');for(let _0x57da95=0x0;_0x57da95<_0x2e98d4[_0x47ca9a(0x1ab)];_0x57da95++){let _0x3d06cd=_0x2e98d4[_0x57da95];if(_0x3d06cd){let _0x84a3ef=_0x3d06cd[_0x10505a(0x213)][_0x47ca9a(0x13d)](function(_0x2ec13f){const _0x561258=_0x47ca9a;return _0x2ec13f['unionID'][_0x561258(0x145)]()===_0xf16f62[_0x561258(0x145)]();}[_0x47ca9a(0x151)](this));if(_0x84a3ef&&_0x5a1dc0[_0x10505a(0x257)]){let _0x12db21=JSON[_0x10505a(0x230)](_0x5a1dc0[_0x47ca9a(0x13c)])||null;if(_0x12db21&&!_0x12db21['robotCount'])continue;let _0xc97d26=_0x2e98d4[_0x57da95],_0x31dfb8=_0x52bfdb[_0x47ca9a(0x19a)][_0x47ca9a(0x140)],_0x4a1299=await this[_0x10505a(0x265)](_0xc97d26[_0x47ca9a(0x129)],_0xf16f62,_0xc97d26[_0x10505a(0x272)],_0xc97d26[_0x47ca9a(0x17e)],_0x84a3ef,_0x12db21[_0x47ca9a(0x14e)],_0x31dfb8);if(_0x12db21&&_0x4a1299){let _0x85e7c3=await _0x52bfdb[_0x47ca9a(0x154)](_0x5a1dc0['_id'][_0x47ca9a(0x145)](),_0x5a1dc0[_0x10505a(0x257)],userInfoServices[_0x10505a(0x23c)](_0xc97d26));if(_0x85e7c3==code['OK']){let _0x13da7d=await _0x52bfdb[_0x47ca9a(0x17a)](_0xc97d26[_0x47ca9a(0x129)]),_0x316c44=dispatch[_0x47ca9a(0x1a6)](_0xc97d26[_0x10505a(0x22a)],pomelo[_0x47ca9a(0x127)][_0x47ca9a(0x155)](_0x47ca9a(0x175))),_0x4fc8c0=moment()['format']('x');await userDao[_0x10505a(0x233)](_0xc97d26[_0x47ca9a(0x129)],{'frontendId':_0x316c44['id'],'lastLoginTime':_0x4fc8c0});break;}else{}}else continue;}}}}},exp[a0_0x583b2d(0x11d)]=async function(_0x2124bd,_0x110b6b,_0x20f589){const _0x12a0d7=a0_0x266188,_0x3111df=a0_0x583b2d;let _0x436de0=await this[_0x12a0d7(0x220)](_0x2124bd);!_0x436de0&&robotlogger[_0x3111df(0x19d)](_0x12a0d7(0x221));let _0x2bf1cb=userInfoServices[_0x12a0d7(0x23c)](_0x110b6b),_0x2abf00=await _0x436de0[_0x3111df(0x12d)](_0x20f589,_0x2bf1cb);if(isShowLog)robotlogger[_0x3111df(0x19d)](_0x3111df(0x19e)+_0x2124bd+_0x12a0d7(0x205)+_0x110b6b[_0x12a0d7(0x22a)]+_0x3111df(0x18d)+_0x110b6b[_0x3111df(0x199)]+_0x3111df(0x1ae)+_0x2abf00);if(_0x2abf00==code['OK']){let _0x14f412=code['OK'];_0x110b6b[_0x3111df(0x12a)]<0xc8&&(_0x14f412=await _0x436de0[_0x3111df(0x17a)](_0x110b6b[_0x3111df(0x129)],_0x20f589));if(_0x14f412==code[_0x12a0d7(0x24f)])await _0x436de0[_0x3111df(0x18f)](_0x110b6b[_0x3111df(0x129)],_0x20f589);else{let _0x4d10b1=dispatch[_0x3111df(0x1a6)](_0x110b6b[_0x3111df(0x129)],pomelo[_0x3111df(0x127)][_0x3111df(0x155)](_0x3111df(0x175))),_0x3eba91=moment()[_0x3111df(0x1a9)]('x');await userDao['updateUserDataByUid'](_0x110b6b[_0x3111df(0x129)],{'frontendId':_0x4d10b1['id'],'lastLoginTime':_0x3eba91});}}return _0x2abf00;},exp[a0_0x583b2d(0x157)]=async function(){},exp[a0_0x583b2d(0x131)]=async function(_0x47ff8a,_0x231566,_0x3ed1bd,_0x5c134c,_0x35678b,_0x19043a,_0xa79383,_0x36a07f=![]){const _0x38a7a9=a0_0x266188,_0x29530d=a0_0x583b2d;let _0x366479=!![];if(IS_WIN_LOSE_LIMIT&&!_0x36a07f){let _0x52fbe2=_0x35678b&&_0x35678b[_0x29530d(0x135)]||0x0;(_0x3ed1bd&&_0x52fbe2>_0x3ed1bd||_0x5c134c&&_0x52fbe2<0x0&&Math[_0x29530d(0x176)](_0x52fbe2)>_0x5c134c)&&(_0x366479=![]);}if(_0x366479){if(IS_AUTO_ADD_SCORE){let _0x44e3ca=_0x3ed1bd?parseInt(_0x19043a+_0x3ed1bd+Math[_0x29530d(0x1aa)]()*_0x3ed1bd):parseInt(_0x19043a+ +Math[_0x29530d(0x1aa)]()*_0x19043a);if(_0x44e3ca>_0x35678b[_0x29530d(0x172)]){let _0x293f8f=_0x44e3ca-_0x35678b[_0x38a7a9(0x25d)],_0x2aab9e=await userDao[_0x29530d(0x170)](_0xa79383),_0x3cc0fa=null;for(let _0x250d1a=0x0;_0x250d1a<_0x2aab9e[_0x38a7a9(0x213)][_0x29530d(0x1ab)];++_0x250d1a){if(_0x2aab9e[_0x29530d(0x1b6)][_0x250d1a][_0x29530d(0x12c)]==_0x231566){_0x3cc0fa=_0x2aab9e[_0x29530d(0x1b6)][_0x250d1a];break;}}if(_0x3cc0fa&&_0x3cc0fa[_0x29530d(0x172)]>_0x293f8f){let _0x11dfea=await userDao[_0x29530d(0x152)]({'uid':_0x47ff8a,'unionInfo.unionID':_0x231566},{'$inc':{'unionInfo.$.score':_0x293f8f}}),_0x3343cd=await userDao[_0x29530d(0x152)]({'uid':_0xa79383,'unionInfo.unionID':_0x231566},{'$inc':{'unionInfo.$.score':-_0x293f8f}});if(!!_0x3343cd[_0x29530d(0x139)])userInfoServices[_0x29530d(0x190)](_0x3343cd['uid'],_0x3343cd[_0x38a7a9(0x1fa)],{'unionInfo':_0x3343cd[_0x29530d(0x1b6)]})[_0x29530d(0x1af)](_0xd07ab8=>{const _0x1c6df3=_0x38a7a9;logger['error'](_0xd07ab8[_0x1c6df3(0x275)]);});let _0x3881f2=_0x11dfea[_0x38a7a9(0x213)][_0x29530d(0x13d)](_0x44c0e7=>_0x44c0e7[_0x29530d(0x12c)]==_0x231566),_0x597701={'uid':_0xa79383,'nickname':_0x2aab9e[_0x29530d(0x199)],'avatar':_0x2aab9e['avatar'],'gainUid':_0x47ff8a,'gainNickname':_0x11dfea[_0x29530d(0x199)],'gainAvatar':_0x11dfea[_0x29530d(0x136)],'gainScore':_0x3881f2[_0x38a7a9(0x25d)],'unionID':_0x231566,'count':_0x293f8f,'createTime':Date[_0x38a7a9(0x218)]()};commonDao[_0x29530d(0x12b)](_0x29530d(0x18c),_0x597701)[_0x29530d(0x1af)](_0xb18f2=>{const _0x44ef07=_0x38a7a9,_0x3d73c2=_0x29530d;logger[_0x44ef07(0x1f2)](_0xb18f2[_0x3d73c2(0x16e)]);});let _0x1c17a4=_0x3343cd[_0x29530d(0x1b6)][_0x29530d(0x13d)](function(_0x53583c){const _0x4fc392=_0x29530d;return _0x53583c[_0x4fc392(0x12c)]==_0x231566;}),_0x4a8da9=[];_0x4a8da9[_0x29530d(0x13b)]({'uid':_0x3343cd[_0x29530d(0x129)],'nickname':_0x3343cd[_0x29530d(0x199)],'unionID':_0x231566,'changeCount':-_0x293f8f,'leftCount':_0x1c17a4[_0x29530d(0x172)],'leftSafeBoxCount':_0x1c17a4[_0x29530d(0x15a)],'leftSaveBoxCount':_0x1c17a4['saveScore'],'changeType':enumeration[_0x29530d(0x183)][_0x29530d(0x14b)],'describe':_0x29530d(0x1a7)+_0x11dfea['uid']+'加分'+_0x293f8f,'createTime':Date[_0x29530d(0x1a2)]()});let _0x2f263a=_0x11dfea[_0x38a7a9(0x213)][_0x29530d(0x13d)](function(_0x4bb70e){const _0x4c4cd8=_0x29530d;return _0x4bb70e[_0x4c4cd8(0x12c)]==_0x231566;});_0x4a8da9[_0x29530d(0x13b)]({'uid':_0x11dfea[_0x29530d(0x129)],'nickname':_0x11dfea[_0x29530d(0x199)],'unionID':_0x231566,'changeCount':_0x293f8f,'leftCount':_0x2f263a[_0x29530d(0x172)],'leftSafeBoxCount':_0x2f263a[_0x29530d(0x15a)],'leftSaveBoxCount':_0x2f263a[_0x29530d(0x125)],'changeType':enumeration[_0x38a7a9(0x26c)][_0x29530d(0x16d)],'describe':'上级'+_0x3343cd[_0x29530d(0x129)]+'加分'+_0x293f8f,'createTime':Date[_0x38a7a9(0x218)]()}),await commonDao[_0x29530d(0x18b)](_0x29530d(0x15f),_0x4a8da9),await commonDao[_0x29530d(0x18b)](_0x29530d(0x19c),_0x4a8da9)[_0x38a7a9(0x26d)](_0x351bc8=>{const _0x268674=_0x29530d;logger[_0x268674(0x15d)](_0x351bc8[_0x268674(0x16e)]);});}}}else _0x19043a>_0x35678b[_0x29530d(0x172)]&&(_0x366479=![]);}return _0x366479;};