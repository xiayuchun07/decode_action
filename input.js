const a0_0x3333dc=a0_0x5919;(function(_0xdeb035,_0x259fc0){const _0xee3c73=a0_0x5919,_0x439e4c=_0xdeb035();while(!![]){try{const _0x515881=parseInt(_0xee3c73(0x7c))/0x1*(parseInt(_0xee3c73(0x97))/0x2)+parseInt(_0xee3c73(0xc9))/0x3+parseInt(_0xee3c73(0xad))/0x4*(-parseInt(_0xee3c73(0xd0))/0x5)+-parseInt(_0xee3c73(0xaa))/0x6*(parseInt(_0xee3c73(0xf1))/0x7)+-parseInt(_0xee3c73(0xdc))/0x8+-parseInt(_0xee3c73(0xdf))/0x9*(parseInt(_0xee3c73(0xed))/0xa)+parseInt(_0xee3c73(0x88))/0xb;if(_0x515881===_0x259fc0)break;else _0x439e4c['push'](_0x439e4c['shift']());}catch(_0x2e7825){_0x439e4c['push'](_0x439e4c['shift']());}}}(a0_0x3125,0xceb2a));function a0_0x1825(_0xf6f7d2,_0x483239){const _0xcc8ba2=a0_0x45f7();return a0_0x1825=function(_0x153035,_0x1d9a4b){_0x153035=_0x153035-0x17f;let _0x525dc1=_0xcc8ba2[_0x153035];return _0x525dc1;},a0_0x1825(_0xf6f7d2,_0x483239);}const a0_0x309950=a0_0x1825;(function(_0x7b59e2,_0x18e049){const _0x3c696c=a0_0x5919,_0x32fb04=a0_0x1825,_0x5bdd37=_0x7b59e2();while(!![]){try{const _0x2d698a=parseInt(_0x32fb04(0x1b9))/0x1*(parseInt(_0x32fb04(0x199))/0x2)+-parseInt(_0x32fb04(0x1cc))/0x3+parseInt(_0x32fb04(0x1eb))/0x4+-parseInt(_0x32fb04(0x181))/0x5*(parseInt(_0x32fb04(0x1b8))/0x6)+parseInt(_0x32fb04(0x1a5))/0x7*(-parseInt(_0x32fb04(0x1b2))/0x8)+parseInt(_0x32fb04(0x1b1))/0x9*(parseInt(_0x32fb04(0x185))/0xa)+-parseInt(_0x32fb04(0x204))/0xb*(-parseInt(_0x32fb04(0x1e1))/0xc);if(_0x2d698a===_0x18e049)break;else _0x5bdd37[_0x3c696c(0xd3)](_0x5bdd37[_0x3c696c(0x7e)]());}catch(_0x4d1651){_0x5bdd37['push'](_0x5bdd37[_0x3c696c(0x7e)]());}}}(a0_0x45f7,0xe1b76));function a0_0x5919(_0x3529c0,_0x42a0b3){const _0x3125a1=a0_0x3125();return a0_0x5919=function(_0x5919d6,_0x564a2c){_0x5919d6=_0x5919d6-0x75;let _0x361d92=_0x3125a1[_0x5919d6];return _0x361d92;},a0_0x5919(_0x3529c0,_0x42a0b3);}let dao=require(a0_0x309950(0x1c9)),userDao=require(a0_0x309950(0x1bf)),commonDao=require(a0_0x309950(0x1c9)),async=require(a0_0x309950(0x1fa)),pushAPI=require(a0_0x3333dc(0xe9)),pomelo=require(a0_0x309950(0x1c5)),code=require(a0_0x309950(0x1dc)),utils=require(a0_0x309950(0x180)),moment=require(a0_0x309950(0x1f2)),logger=require(a0_0x309950(0x19b))[a0_0x309950(0x198)](a0_0x309950(0x1c5)),enumeration=require('../constant/enumeration'),service=module[a0_0x3333dc(0xac)];function a0_0x45f7(){const _0x20c815=a0_0x3333dc,_0x2cf2bf=[_0x20c815(0x91),_0x20c815(0xbc),'todayWin',_0x20c815(0x79),_0x20c815(0x8c),'10iPocVw','convertMongoUserDataToRedisUserData',_0x20c815(0x86),'tree',_0x20c815(0x8f),_0x20c815(0x83),_0x20c815(0xa5),_0x20c815(0xc7),_0x20c815(0x92),'location',_0x20c815(0xb1),'hasOwnProperty',_0x20c815(0x8e),'limitScore',_0x20c815(0xa1),_0x20c815(0xd6),_0x20c815(0xbf),_0x20c815(0x76),'getNewUserEmail',_0x20c815(0x80),_0x20c815(0x9f),_0x20c815(0xdb),_0x20c815(0x81),'getLogger',_0x20c815(0xfe),_0x20c815(0xde),_0x20c815(0xb8),_0x20c815(0xb6),_0x20c815(0xd4),'filter','slice','userGameRecordModel','winRate',_0x20c815(0xaf),_0x20c815(0xeb),_0x20c815(0xcf),_0x20c815(0xa9),_0x20c815(0xf0),'prohibitGame',_0x20c815(0x7d),_0x20c815(0xf4),'floor',_0x20c815(0xf6),_0x20c815(0xd7),_0x20c815(0xc4),_0x20c815(0x89),_0x20c815(0xe3),_0x20c815(0xef),'9DMqGKd',_0x20c815(0xb7),'userScoreModel',_0x20c815(0xcd),_0x20c815(0xcc),'_id',_0x20c815(0xb2),_0x20c815(0x8d),'5bQiujY',_0x20c815(0xae),_0x20c815(0xa3),_0x20c815(0xc0),'yesterdayDraw',_0x20c815(0xe1),_0x20c815(0xf8),_0x20c815(0xa6),_0x20c815(0x9e),_0x20c815(0x78),_0x20c815(0xf7),_0x20c815(0x7f),_0x20c815(0xce),_0x20c815(0xbb),'spreaderID',_0x20c815(0xf3),_0x20c815(0x104),_0x20c815(0xbd),_0x20c815(0x9d),_0x20c815(0xd1),'SAFE_BOX',_0x20c815(0x95),_0x20c815(0xe4),'convertRedisUserDataToMongoUserData',_0x20c815(0x94),_0x20c815(0xe6),'fixScoreRate',_0x20c815(0xe2),'app','frontendId',_0x20c815(0xfc),_0x20c815(0xb9),_0x20c815(0x96),_0x20c815(0xf9),_0x20c815(0x93),_0x20c815(0xf2),_0x20c815(0xb4),_0x20c815(0x8b),_0x20c815(0xdd),_0x20c815(0x103),_0x20c815(0xa7),'uid','updateDataEx',_0x20c815(0xc8),_0x20c815(0xe8),'totalDraw',_0x20c815(0x9a),_0x20c815(0xda),'createUserThenLoad',_0x20c815(0xc5),_0x20c815(0xf5),_0x20c815(0xb0),_0x20c815(0x82),_0x20c815(0xfd),_0x20c815(0x102),_0x20c815(0x99),_0x20c815(0xc6),'moment',_0x20c815(0x87),_0x20c815(0xcb),_0x20c815(0x9b),'userBlockModel','safeScore','push',_0x20c815(0x85),'async','getLimitScore',_0x20c815(0xa0),_0x20c815(0xd2),_0x20c815(0x77),_0x20c815(0x100),_0x20c815(0xff),'$uid',_0x20c815(0xc2),_0x20c815(0x9c),_0x20c815(0xd5),_0x20c815(0xa4),'reCountUserScore','sex',_0x20c815(0xfa),_0x20c815(0x84),_0x20c815(0xa2)];return a0_0x45f7=function(){return _0x2cf2bf;},a0_0x45f7();}function a0_0x3125(){const _0x4a035b=['targetScore','now','findOneData','yesterdayWin','winType','getUserDataTotal','systemEmail','includes','getUserSuperAll','6960684oNOGzc','USER_BLOCK_LIMITE','7zeQNSE','8247858NpfEJp','lastUpdateSystemEmailTime','exports','108cYHGSP','floatScore','startOf','nickname','buildShortUserInfo','buildGameRoomUserInfoWithUnion','ticketRate','day','spreaderID','get','14646760vAALHp','pomelo-logger','GAME_WIN_CHOU','doUntil','userScoreDetailModel','saveScore','getRandomNum','Number','findData','toFixed','location','showFixScore','agentMemberCount','unionID','unionModel','groupLimit','startGold','userList','1679208XAZiSu','uid','updateUserInfoPush','getTodayUserScore','getSPreadLevelAsync','pomelo','find','199125oUuJhd','1158981rNQnao','scoreChangeType','push','string','11Gwxtij','partner','GAME_WIN','directlyMemberAchievement','dbClient','waterfall','endOf','3925424ROgbYX','format','FAIL','7071237DJJokV','todayRebate','updateUserDataNotify','isTest','userRebateRecordModel','createTime','yesterdayProvideRebate','avatarFrame','todayProvideRebate','map','../API/pushAPI','config','total','checkBlockUser','10HEUkBB','winRate','address','type','7LfXYSW','../constant/code','getIntervalDay','getUserLowScoreAll','6296832WmULKW','buildGameRoomUserInfo','UNION_GAME_ENTER_LIMIT_SCORE','../dao/userDao','$inc','FIX_SCORE','prohibitGame','getUserDataByUid','userType','341540zxeRfU','todayDraw','unionInfo','slice','score','add','../dao/commonDao','catch','morentouxiang','isRobot','lastLoginTime','unshift','app','hasOwnProperty','1126uNhDkC','lastLoginIP','shift','avatar','parse','$changeCount','schema','toString','YYYYMMDD','log','$gainCount','getStatisticsInfo','31176915ZrqNBC','length','frontendId','buildShortAgentInfo','../util/utils','3558090fxhiJe','$unionID','13196210CMFeSa','sex','error','gold','yesterdayRebate','achievement','agentMemberAchievement','directlyMemberCount','2094hWinzZ','getTodayUserScoreBack','stringify','userModel','getUnionAllUser','buildShortMemberInfo','rebateRate'];a0_0x3125=function(){return _0x4a035b;};return a0_0x3125();}service[a0_0x3333dc(0xec)]=async function(_0x1f6fc8,_0x2d1815,_0x537cda){const _0x3cd715=a0_0x3333dc,_0x41b1d5=a0_0x309950;let _0x34a1bd=code['OK'],_0x311baf=await dao[_0x3cd715(0xa0)](_0x41b1d5(0x1ea),{'unionID':_0x1f6fc8});if(_0x311baf&&!_0x311baf[_0x41b1d5(0x1f1)]){let _0x37c443={'unionID':_0x1f6fc8,'$and':[{'userList':{'$elemMatch':{'uid':_0x2d1815}}},{'userList':{'$elemMatch':{'uid':{'$in':_0x537cda}}}}]},_0x558929=await commonDao[_0x41b1d5(0x1fc)](_0x41b1d5(0x1f6),_0x37c443);_0x558929&&(_0x34a1bd=code[_0x3cd715(0xa8)]);}return _0x34a1bd;},service[a0_0x309950(0x1fb)]=async function(_0x5489d6,_0x29ab6d){const _0x3c978b=a0_0x3333dc,_0xfff22b=a0_0x309950;let _0x221539=await service[_0xfff22b(0x1f5)](_0x5489d6),_0xee5d95=_0x221539[_0xfff22b(0x1a4)](_0x3b7567=>_0x3b7567[_0xfff22b(0x1e2)]==_0x29ab6d),_0x5992b2=await service[_0xfff22b(0x1c0)](_0x29ab6d,_0x5489d6,_0x221539);_0xee5d95[_0xfff22b(0x190)]&&_0x5992b2[_0xfff22b(0x17f)](_0x29ab6d);let _0x4ecfad=_0x5992b2[_0x3c978b(0x101)](),_0x20f33a=code['OK'];for(let _0x4299a8=0x0;_0x4299a8<_0x4ecfad[_0xfff22b(0x1ae)];_0x4299a8++){let _0x173edb=_0x4ecfad[_0x4299a8],_0x15c703=_0x221539[_0xfff22b(0x1a4)](_0xd983e5=>_0xd983e5[_0xfff22b(0x1e2)]==_0x173edb);if(!_0x15c703[_0xfff22b(0x18e)])continue;let _0x2edd9f=await service[_0xfff22b(0x1a9)](_0x173edb,_0x5489d6,_0x221539);if(_0x2edd9f<_0x15c703[_0xfff22b(0x18e)]){_0x20f33a=code[_0xfff22b(0x1c3)];break;}}return _0x20f33a;},service[a0_0x309950(0x1b5)]=async function(_0x1461de,_0x300755,_0x99b528){const _0x44ed27=a0_0x3333dc,_0x2e2399=a0_0x309950;let _0x438507=moment(_0x99b528)[_0x2e2399(0x1a2)]('d')[_0x44ed27(0xdd)]('x'),_0x4f0b39=moment(_0x99b528)['endOf']('d')[_0x2e2399(0x1df)]('x'),_0x2d9e7a={'userList.uid':{'$in':_0x300755},'unionID':_0x1461de,'createTime':{'$gte':_0x438507,'$lte':_0x4f0b39}},_0x54f806=0x0,_0x58fc42=0x0,_0x451d07=await commonDao[_0x2e2399(0x191)](_0x2e2399(0x1a0),_0x2d9e7a);for(let _0x23f4f8=0x0;_0x23f4f8<_0x451d07[_0x2e2399(0x1ae)];_0x23f4f8++){let _0x4c3198=_0x451d07[_0x23f4f8],_0x42d4f1=_0x4c3198[_0x2e2399(0x1e4)];for(let _0x2f68d4=0x0;_0x2f68d4<_0x42d4f1[_0x2e2399(0x1ae)];_0x2f68d4++){let _0xa26974=_0x42d4f1[_0x2f68d4];_0x300755[_0x2e2399(0x187)](_0xa26974[_0x2e2399(0x1e2)])&&(_0x54f806+=_0xa26974['score'],_0x58fc42+=0x1);}}return{'todayDraw':_0x58fc42,'todayWin':_0x54f806};},service[a0_0x3333dc(0x98)]=async function(_0x19dc5f,_0x2b0960,_0xb3d265){const _0x2a933c=a0_0x3333dc,_0x54e848=a0_0x309950;let _0x182afe=[enumeration[_0x54e848(0x1fd)][_0x2a933c(0xfa)],enumeration[_0x54e848(0x1fd)][_0x54e848(0x1d8)],enumeration[_0x54e848(0x1fd)][_0x54e848(0x1ac)],enumeration[_0x54e848(0x1fd)][_0x54e848(0x1cd)],enumeration[_0x54e848(0x1fd)]['GAME_START_UNION_CHOU']],_0x499755=moment(_0xb3d265)[_0x54e848(0x1a2)]('d')[_0x54e848(0x1df)]('x'),_0x38253=moment(_0xb3d265)[_0x2a933c(0xdb)]('d')[_0x54e848(0x1df)]('x'),_0x448a4d={'uid':{'$in':_0x2b0960},'unionID':_0x19dc5f,'changeType':{'$in':_0x182afe},'createTime':{'$gte':_0x499755,'$lte':_0x38253}},_0x325e73={'_id':'$uid','score':{'$sum':_0x54e848(0x197)}},_0x5261e1=[{'$match':_0x448a4d},{'$group':_0x325e73}],_0x545ff0=0x0,_0x83f47b=0x0,_0x361854=await commonDao[_0x54e848(0x1f3)](_0x54e848(0x1c6),_0x5261e1);for(let _0x45e6e4=0x0;_0x45e6e4<_0x361854[_0x2a933c(0x89)];_0x45e6e4++){let _0x5a5dc6=_0x361854[_0x45e6e4],_0x5bb672=_0x5a5dc6[_0x54e848(0x1b6)],_0x2a4454=parseFloat(_0x5a5dc6[_0x54e848(0x1ef)][_0x54e848(0x1bc)](0x2))||0x0,_0x49c598=await userDao[_0x54e848(0x1d7)](_0x5bb672),_0x105b42=_0x49c598[_0x54e848(0x1ff)][_0x54e848(0x1a4)](function(_0x37ab4c){const _0x3ace7a=_0x54e848;return _0x37ab4c[_0x3ace7a(0x1ad)]===_0x19dc5f;});_0x545ff0+=_0x2a4454,_0xb3d265==moment()[_0x54e848(0x1df)](_0x54e848(0x209))?_0x83f47b+=_0x105b42[_0x54e848(0x200)]:_0x83f47b+=_0x105b42[_0x54e848(0x1bd)];}return{'todayDraw':_0x83f47b,'todayWin':_0x545ff0};},service[a0_0x309950(0x206)]=async function(_0x5a56dc,_0x93e111){const _0x2a5bdd=a0_0x3333dc,_0x5454f3=a0_0x309950;let _0x494d84=[enumeration[_0x5454f3(0x1fd)][_0x5454f3(0x208)],enumeration[_0x5454f3(0x1fd)][_0x2a5bdd(0xb9)],enumeration[_0x5454f3(0x1fd)]['GAME_WIN'],enumeration[_0x5454f3(0x1fd)][_0x5454f3(0x1cd)],enumeration[_0x5454f3(0x1fd)]['GAME_START_UNION_CHOU']],_0x42ddfe=moment(_0x93e111)[_0x5454f3(0x1a2)]('d')[_0x2a5bdd(0xdd)]('x'),_0x35f896=moment(_0x93e111)['endOf']('d')[_0x5454f3(0x1df)]('x'),_0xd9aaac={'unionID':_0x5a56dc,'changeType':{'$in':_0x494d84},'createTime':{'$gte':_0x42ddfe,'$lte':_0x35f896}},_0x269b26={'_id':_0x5454f3(0x201),'score':{'$sum':_0x5454f3(0x197)}},_0x6c0fe2=[{'$match':_0xd9aaac},{'$group':_0x269b26}],_0x7afe03=await commonDao[_0x5454f3(0x1f3)]('userScoreDetailModel',_0x6c0fe2);for(let _0x57295a=0x0;_0x57295a<_0x7afe03[_0x2a5bdd(0x89)];_0x57295a++){let _0x1ae5c9=_0x7afe03[_0x57295a],_0x20a677=_0x1ae5c9[_0x5454f3(0x1b6)],_0x500c0b=_0x1ae5c9[_0x5454f3(0x1ef)][_0x5454f3(0x1bc)](0x2),_0x46cdd6=await userDao[_0x5454f3(0x1d7)](_0x20a677),_0x195f96=_0x46cdd6[_0x5454f3(0x1ec)],_0x2bae98=_0x46cdd6[_0x2a5bdd(0x7f)],_0x2c1e23=_0x46cdd6[_0x2a5bdd(0x100)][_0x2a5bdd(0xcf)](function(_0x1e5e08){const _0x2c3eea=_0x5454f3;return _0x1e5e08[_0x2c3eea(0x1ad)]===_0x5a56dc;}),_0x2c7c8f=(_0x2c1e23&&_0x2c1e23[_0x5454f3(0x1ef)]||0x0)[_0x5454f3(0x1bc)](0x2),_0x25252e=(_0x2c1e23&&_0x2c1e23[_0x5454f3(0x20c)]||0x0)[_0x5454f3(0x1bc)](0x2),_0x43ed10={'unionID':_0x5a56dc,'uid':_0x20a677,'score':_0x500c0b,'nickname':_0x195f96,'userScore':_0x2c7c8f,'saveScore':_0x25252e,'avatar':_0x2bae98,'dayTime':_0x93e111,'createTime':moment()[_0x5454f3(0x1df)]('x')};await commonDao[_0x5454f3(0x1e3)](_0x5454f3(0x1b3),{'uid':_0x20a677,'unionID':_0x5a56dc,'dayTime':_0x93e111},_0x43ed10,{'upsert':!![]})[_0x2a5bdd(0x75)](_0x6b0771=>{const _0x5d5ab7=_0x5454f3;logger[_0x5d5ab7(0x20b)](_0x6b0771);});}return _0x7afe03[_0x2a5bdd(0x89)];},service[a0_0x309950(0x1e9)]=async function(_0x52e3b2,_0x460d5b){const _0x1fa21b=a0_0x3333dc,_0x314c16=a0_0x309950;let _0x2ea4db=utils[_0x314c16(0x1ca)](0x1,0xa),_0x1cc0b8={};return _0x1cc0b8['uid']=_0x52e3b2,_0x1cc0b8[_0x314c16(0x189)]=parseInt(pomelo[_0x314c16(0x1d5)][_0x1fa21b(0xb6)]('config')[_0x314c16(0x188)]||'0'),_0x1cc0b8[_0x314c16(0x1c4)]=_0x460d5b[_0x314c16(0x1c4)]||_0x314c16(0x192)+_0x2ea4db,_0x1cc0b8[_0x314c16(0x1d2)]='',_0x1cc0b8[_0x314c16(0x1ec)]=_0x460d5b['nickname']||_0x1cc0b8[_0x314c16(0x1e2)][_0x1fa21b(0x83)](),_0x1cc0b8[_0x314c16(0x207)]=_0x460d5b[_0x314c16(0x207)]||0x0,_0x1cc0b8['createTime']=Date[_0x314c16(0x195)](),await dao['createData'](_0x1fa21b(0x9a),_0x1cc0b8),await userDao[_0x314c16(0x1d7)](_0x52e3b2);},service[a0_0x309950(0x1be)]=async function(_0x278fff,_0x6f9916,_0x2f75da){const _0x4a2889=a0_0x3333dc,_0x347f8b=a0_0x309950;if(!_0x278fff)return;if(!!_0x6f9916)await pushAPI[_0x347f8b(0x1f4)](_0x2f75da,[{'uid':_0x278fff,'sid':_0x6f9916}]);else{let _0x5ed1b1=await userDao[_0x4a2889(0xfc)](_0x278fff);if(!_0x5ed1b1||!_0x5ed1b1[_0x347f8b(0x1d6)]||_0x5ed1b1[_0x347f8b(0x1fe)])return;await pushAPI[_0x347f8b(0x1f4)](_0x2f75da,[{'uid':_0x278fff,'sid':_0x6f9916}]);}},service[a0_0x309950(0x193)]=function(_0x5abf41,_0x1a400c){const _0x4506a5=a0_0x3333dc,_0x54d3fd=a0_0x309950;let _0x703285=_0x5abf41[_0x54d3fd(0x1ae)]>0x0?JSON[_0x54d3fd(0x194)](_0x5abf41):[],_0x23f8f9=pomelo[_0x54d3fd(0x1d5)][_0x54d3fd(0x19c)](_0x4506a5(0xea)),_0x1954d0=![],_0x5cafd9=[];for(let _0x494065=0x0;_0x494065<_0x703285[_0x54d3fd(0x1ae)];++_0x494065){let _0x1b4a29=_0x703285[_0x494065];utils[_0x54d3fd(0x1c8)](_0x1b4a29[_0x54d3fd(0x1cf)],Date[_0x54d3fd(0x195)]())<0x7?_0x5cafd9[_0x4506a5(0xd3)](_0x703285[_0x494065]):_0x1954d0=!![];}let _0x54b11c=parseInt(_0x23f8f9[_0x4506a5(0xab)]);if(_0x1a400c>0x0&&_0x54b11c>0x0&&_0x54b11c>_0x1a400c){if(!!_0x23f8f9[_0x54d3fd(0x205)]){let _0x11a66e=JSON[_0x54d3fd(0x194)](_0x23f8f9[_0x54d3fd(0x205)]);for(let _0x21e987=0x0;_0x21e987<_0x11a66e[_0x4506a5(0x89)];++_0x21e987){let _0x196a21=_0x11a66e[_0x21e987],_0x37def6=![];for(let _0x3057b0=0x0;_0x3057b0<_0x703285[_0x54d3fd(0x1ae)];++_0x3057b0){if(_0x703285[_0x3057b0]['id']===_0x196a21['id']){_0x37def6=!![];break;}}!_0x37def6&&utils[_0x54d3fd(0x1c8)](_0x196a21[_0x54d3fd(0x1cf)],Date[_0x4506a5(0x9f)]())<0x7&&(_0x5cafd9[_0x54d3fd(0x1f8)](_0x196a21),_0x1954d0=!![]);}}}return _0x1954d0?JSON[_0x54d3fd(0x1f0)](_0x5cafd9):null;},service[a0_0x309950(0x182)]=function(_0xd408b9){const _0x8c3c7d=a0_0x309950;if(!_0xd408b9)return null;let _0xb23dc9={};for(let _0x516a45 in _0xd408b9){if(_0x516a45===_0x8c3c7d(0x1b6))continue;_0xd408b9[_0x8c3c7d(0x18c)](_0x516a45)&&(typeof _0xd408b9[_0x516a45]!==_0x8c3c7d(0x19d)&&_0x516a45!==_0x8c3c7d(0x1da)?_0xb23dc9[_0x516a45]=_0xd408b9[_0x516a45][_0x8c3c7d(0x186)]():_0xb23dc9[_0x516a45]=_0xd408b9[_0x516a45]);}return _0xb23dc9;},service[a0_0x309950(0x1d0)]=function(_0x37528c){const _0x4c55d2=a0_0x3333dc,_0x3404b=a0_0x309950;let _0x48870c=pomelo[_0x4c55d2(0x7a)]['get'](_0x4c55d2(0xd9))[_0x3404b(0x1e7)][_0x3404b(0x1ed)][_0x3404b(0x184)],_0x28de88={};for(let _0x5eb460 in _0x37528c){if(_0x37528c[_0x3404b(0x18c)](_0x5eb460)){let _0x19ac60=_0x48870c[_0x5eb460];!!_0x19ac60&&!!_0x19ac60['type']&&_0x19ac60[_0x3404b(0x1a6)]['name']===_0x4c55d2(0xbe)?_0x28de88[_0x5eb460]=parseFloat(_0x37528c[_0x5eb460]):_0x28de88[_0x5eb460]=_0x37528c[_0x5eb460];}}return _0x28de88;},service[a0_0x309950(0x18b)]=function(_0x3bb991){const _0x48e57e=a0_0x3333dc,_0x2fce9a=a0_0x309950;let _0x14cc8f={};if(_0x2fce9a(0x1ec)in _0x3bb991)_0x14cc8f[_0x2fce9a(0x1ec)]=_0x3bb991[_0x2fce9a(0x1ec)];if(_0x2fce9a(0x1c4)in _0x3bb991)_0x14cc8f[_0x48e57e(0x7f)]=_0x3bb991[_0x2fce9a(0x1c4)];if(_0x2fce9a(0x1e2)in _0x3bb991)_0x14cc8f[_0x2fce9a(0x1e2)]=_0x3bb991[_0x2fce9a(0x1e2)];if(_0x2fce9a(0x207)in _0x3bb991)_0x14cc8f[_0x2fce9a(0x207)]=_0x3bb991[_0x2fce9a(0x207)];return _0x14cc8f;},service[a0_0x309950(0x203)]=function(_0x516cc3){const _0x31d89c=a0_0x309950;return{'uid':_0x516cc3[_0x31d89c(0x1e2)],'nickname':_0x516cc3[_0x31d89c(0x1ec)],'avatar':_0x516cc3[_0x31d89c(0x1c4)],'achievement':_0x516cc3[_0x31d89c(0x1d1)],'lastLoginTime':_0x516cc3[_0x31d89c(0x1c2)]};},service[a0_0x309950(0x1de)]=function(_0x8609e4){const _0x3e3118=a0_0x3333dc,_0x50b4e5=a0_0x309950;return{'uid':_0x8609e4[_0x50b4e5(0x1e2)],'nickname':_0x8609e4[_0x50b4e5(0x1ec)],'avatar':_0x8609e4[_0x50b4e5(0x1c4)],'directlyMemberAchievement':_0x8609e4[_0x3e3118(0xd8)],'agentMemberAchievement':_0x8609e4[_0x50b4e5(0x1ce)],'directlyMemberCount':_0x8609e4[_0x50b4e5(0x1d9)],'agentMemberCount':_0x8609e4[_0x3e3118(0xc3)],'lastLoginTime':_0x8609e4['lastLoginTime']};},service[a0_0x309950(0x1ab)]=function(_0x2a493a){const _0x2d9f77=a0_0x3333dc,_0x235726=a0_0x309950;let _0x4d4537={};if(_0x235726(0x1e2)in _0x2a493a)_0x4d4537[_0x235726(0x1e2)]=_0x2a493a[_0x235726(0x1e2)];if(_0x235726(0x1ec)in _0x2a493a)_0x4d4537[_0x235726(0x1ec)]=_0x2a493a[_0x235726(0x1ec)];if(_0x235726(0x1c4)in _0x2a493a)_0x4d4537[_0x235726(0x1c4)]=_0x2a493a[_0x235726(0x1c4)];if(_0x235726(0x189)in _0x2a493a)_0x4d4537[_0x235726(0x189)]=_0x2a493a[_0x235726(0x189)];if(_0x235726(0x1d6)in _0x2a493a)_0x4d4537[_0x235726(0x1d6)]=_0x2a493a[_0x235726(0x1d6)];if(_0x2d9f77(0x100)in _0x2a493a)_0x4d4537[_0x235726(0x1ff)]=_0x2a493a[_0x2d9f77(0x100)];if(_0x235726(0x1b0)in _0x2a493a)_0x4d4537[_0x235726(0x1b0)]=_0x2a493a[_0x235726(0x1b0)];if(_0x235726(0x18a)in _0x2a493a)_0x4d4537[_0x235726(0x18a)]=_0x2a493a[_0x2d9f77(0xc1)];if(_0x235726(0x1a8)in _0x2a493a)_0x4d4537[_0x2d9f77(0x7d)]=_0x2a493a[_0x235726(0x1a8)];if(_0x235726(0x207)in _0x2a493a)_0x4d4537[_0x235726(0x207)]=_0x2a493a[_0x2d9f77(0x90)];if(_0x235726(0x1d4)in _0x2a493a)_0x4d4537[_0x235726(0x1d4)]=_0x2a493a[_0x235726(0x1d4)];if('isRobot'in _0x2a493a)_0x4d4537[_0x2d9f77(0x77)]=_0x2a493a[_0x235726(0x1fe)]||![];if(_0x2d9f77(0xee)in _0x2a493a)_0x4d4537[_0x235726(0x1a1)]=_0x2a493a[_0x235726(0x1a1)]||0x0;if(_0x2d9f77(0xa2)in _0x2a493a)_0x4d4537[_0x235726(0x20a)]=_0x2a493a[_0x235726(0x20a)]||0x0;if(_0x2d9f77(0xfd)in _0x2a493a)_0x4d4537[_0x235726(0x1ee)]=_0x2a493a[_0x235726(0x1ee)]||0x0;for(let _0x10ecbf in _0x4d4537){if(_0x4d4537[_0x235726(0x18c)](_0x10ecbf))return _0x4d4537;}return null;},service[a0_0x309950(0x1b7)]=function(_0x124b52,_0x1825b0){const _0x21e980=a0_0x3333dc,_0xe71e47=a0_0x309950;let _0x55a1f0={};if(_0xe71e47(0x1e2)in _0x124b52)_0x55a1f0[_0x21e980(0xca)]=_0x124b52[_0x21e980(0xca)];if(_0xe71e47(0x1ec)in _0x124b52)_0x55a1f0[_0xe71e47(0x1ec)]=_0x124b52[_0x21e980(0xb0)];if(_0xe71e47(0x1c4)in _0x124b52)_0x55a1f0[_0x21e980(0x7f)]=_0x124b52[_0xe71e47(0x1c4)];if(_0xe71e47(0x189)in _0x124b52)_0x55a1f0[_0xe71e47(0x189)]=_0x124b52[_0xe71e47(0x189)];if(_0xe71e47(0x1d6)in _0x124b52)_0x55a1f0[_0x21e980(0x8a)]=_0x124b52['frontendId'];if(_0xe71e47(0x1b0)in _0x124b52)_0x55a1f0[_0x21e980(0xef)]=_0x124b52[_0xe71e47(0x1b0)];if(_0xe71e47(0x18a)in _0x124b52)_0x55a1f0[_0xe71e47(0x18a)]=_0x124b52[_0xe71e47(0x18a)];if(_0xe71e47(0x1a8)in _0x124b52)_0x55a1f0[_0xe71e47(0x1a8)]=_0x124b52[_0xe71e47(0x1a8)];if(_0x21e980(0x90)in _0x124b52)_0x55a1f0['sex']=_0x124b52[_0xe71e47(0x207)];if(_0xe71e47(0x1d4)in _0x124b52)_0x55a1f0[_0xe71e47(0x1d4)]=_0x124b52[_0xe71e47(0x1d4)];if(_0xe71e47(0x1fe)in _0x124b52)_0x55a1f0[_0x21e980(0x77)]=_0x124b52[_0xe71e47(0x1fe)]||![];if(_0xe71e47(0x1a1)in _0x124b52)_0x55a1f0[_0xe71e47(0x1a1)]=_0x124b52[_0xe71e47(0x1a1)]||0x0;if(_0x21e980(0xa2)in _0x124b52)_0x55a1f0[_0xe71e47(0x20a)]=_0x124b52[_0x21e980(0xa2)]||0x0;if(_0x21e980(0xfd)in _0x124b52)_0x55a1f0[_0xe71e47(0x1ee)]=_0x124b52[_0xe71e47(0x1ee)]||0x0;if(_0x1825b0===0x1)_0x55a1f0[_0xe71e47(0x1ef)]=0x0,_0x55a1f0[_0xe71e47(0x1c7)]='';else{if(_0xe71e47(0x1ff)in _0x124b52){let _0x31dbf9=_0x124b52['unionInfo'][_0xe71e47(0x1a4)](function(_0x36429d){const _0x21f872=_0xe71e47;return _0x36429d[_0x21f872(0x1ad)]===_0x1825b0;});!!_0x31dbf9?(_0x55a1f0[_0xe71e47(0x1ef)]=parseFloat(_0x31dbf9[_0xe71e47(0x1ef)][_0xe71e47(0x1bc)](0x2)),_0x55a1f0[_0xe71e47(0x1c7)]=_0x31dbf9[_0xe71e47(0x1c7)],_0x55a1f0[_0x21e980(0xfb)]=_0x31dbf9[_0xe71e47(0x1a7)]||![],_0x55a1f0[_0xe71e47(0x1c1)]=_0x31dbf9[_0xe71e47(0x1c1)]||0x0,_0x55a1f0[_0xe71e47(0x1ba)]=_0x31dbf9[_0xe71e47(0x1ba)]||0x0):(_0x55a1f0[_0xe71e47(0x1ef)]=0x0,_0x55a1f0[_0xe71e47(0x1c7)]='',_0x55a1f0[_0xe71e47(0x1a7)]=![],_0x55a1f0[_0xe71e47(0x1c1)]=0x0,_0x55a1f0[_0xe71e47(0x1ba)]=0x0);}}for(let _0x5f035a in _0x55a1f0){if(_0x55a1f0[_0x21e980(0x7b)](_0x5f035a))return _0x55a1f0;}},service[a0_0x309950(0x1bb)]=async(_0x3102c4,_0xa9bb62,_0xba46=!![])=>{return new Promise((_0x1389c0,_0x1933b)=>{const _0x28142b=a0_0x1825;let _0x2a98e7={'uid':{'$in':_0xa9bb62}};async[_0x28142b(0x1e8)]([async _0x5ad88a=>{const _0x42e35c=a0_0x5919,_0x1d9935=_0x28142b;let _0x1c9651=await dao[_0x42e35c(0xbf)](_0x1d9935(0x1e7),_0x2a98e7,{'unionInfo.todayWin':-0x1},0x0,0x0),_0x4429d8=0x0,_0x2b2e46=0x0,_0x58f6f5=0x0,_0x1e80c6=0x0,_0x556e2a=0x0,_0x58ae54=0x0,_0x2a6f27=0x0,_0x560292=0x0,_0x38acf3=0x0,_0x38fdb5=0x0,_0x127881=0x0,_0x423989=0x0,_0x451ea2=0x0;for(let _0x449525=0x0;_0x449525<_0x1c9651[_0x1d9935(0x1ae)];_0x449525++){if(_0x1c9651[_0x449525]){let _0x3c5971=_0x1c9651[_0x449525][_0x1d9935(0x1ff)][_0x1d9935(0x1a4)](function(_0x35cf8f){const _0x4d4de8=_0x42e35c;return _0x35cf8f[_0x4d4de8(0xc4)]===_0x3102c4;});_0x3c5971?(_0x4429d8+=0x1,_0x1e80c6+=parseInt(_0x3c5971[_0x42e35c(0xff)][_0x1d9935(0x1bc)](0x2))||0x0,_0x58f6f5+=parseInt(_0x3c5971[_0x1d9935(0x1bd)][_0x1d9935(0x1bc)](0x2))||0x0,_0x38fdb5+=parseFloat(_0x3c5971[_0x1d9935(0x20d)]['toFixed'](0x2))||0x0,_0x127881+=parseFloat(_0x3c5971[_0x1d9935(0x18f)][_0x1d9935(0x1bc)](0x2))||0x0,_0x2b2e46+=parseFloat(_0x3c5971[_0x42e35c(0x102)])||0x0,_0x2b2e46+=parseFloat(_0x3c5971[_0x1d9935(0x1f7)])||0x0,_0x2b2e46+=parseFloat(_0x3c5971[_0x1d9935(0x20c)])||0x0,_0x2a6f27+=parseFloat(_0x3c5971[_0x42e35c(0xe7)][_0x1d9935(0x1bc)](0x2))||0x0,_0x560292+=parseFloat(_0x3c5971[_0x42e35c(0xe5)][_0x1d9935(0x1bc)](0x2))||0x0,_0x423989+=parseFloat(_0x3c5971[_0x42e35c(0xe0)][_0x1d9935(0x1bc)](0x2))||0x0,_0x451ea2+=parseFloat(_0x3c5971[_0x1d9935(0x1db)]['toFixed'](0x2))||0x0,_0x38acf3+=parseInt(_0x3c5971[_0x1d9935(0x1e6)])||0x0):console[_0x1d9935(0x1f9)](_0x1c9651[_0x449525]);}}if(_0xba46){let _0x4baab8=moment()[_0x1d9935(0x1a2)](_0x1d9935(0x1dd))[_0x1d9935(0x1df)]('x'),_0x114ae6=moment()[_0x1d9935(0x196)](_0x1d9935(0x1dd))[_0x42e35c(0xdd)]('x'),_0x52030e=moment()['add'](-0x1,'d')[_0x42e35c(0xaf)](_0x1d9935(0x1dd))[_0x1d9935(0x1df)]('x'),_0x1602c1=moment()[_0x1d9935(0x1e0)](-0x1,'d')[_0x1d9935(0x196)](_0x1d9935(0x1dd))[_0x1d9935(0x1df)]('x'),_0xe8f4c6={'createTime':{'$gte':parseInt(_0x4baab8),'$lte':parseInt(_0x114ae6)},'uid':{'$in':_0xa9bb62},'unionID':_0x3102c4},_0x3a45bf={'_id':_0x1d9935(0x18d),'total':{'$sum':_0x1d9935(0x183)}},_0x296a89=[{'$match':_0xe8f4c6},{'$group':_0x3a45bf}],_0x2f3527=await commonDao[_0x1d9935(0x1f3)](_0x1d9935(0x1af),_0x296a89);_0x556e2a=_0x2f3527['length']>0x0?_0x2f3527[0x0][_0x42e35c(0xeb)]:0x0;let _0x543eb5={'createTime':{'$gte':parseInt(_0x52030e),'$lte':parseInt(_0x1602c1)},'uid':{'$in':_0xa9bb62},'unionID':_0x3102c4},_0xd02f3e=[{'$match':_0x543eb5},{'$group':_0x3a45bf}],_0xc776c2=await commonDao[_0x1d9935(0x1f3)](_0x1d9935(0x1af),_0xd02f3e);_0x58ae54=_0xc776c2[_0x1d9935(0x1ae)]>0x0?_0xc776c2[0x0][_0x1d9935(0x1a3)]:0x0;}_0x2b2e46=Math[_0x1d9935(0x1aa)](_0x2b2e46*0x64)/0x64,_0x5ad88a(null,{'todayTotalRebate':_0x556e2a,'yesterdayTotalRebate':_0x58ae54,'totalCount':_0x4429d8,'totalScore':_0x2b2e46,'yesterdayDrawTotal':_0x58f6f5,'todayDrawTotal':_0x1e80c6,'yesterdayTotalProvideRebate':_0x560292,'totalDraw':_0x38acf3,'todayWinTotal':_0x38fdb5,'yesterdayWinTotal':_0x127881});}],(_0xfcd4b9,_0x33fe32)=>{const _0x17a918=_0x28142b;_0xfcd4b9?_0x1933b(code[_0x17a918(0x19a)]):_0x1389c0(_0x33fe32);});});},service[a0_0x309950(0x1f5)]=async function(_0x39822c){const _0x17e2ba=a0_0x3333dc,_0x2175b3=a0_0x309950;let _0x9a62d=null;if(_0x9a62d)_0x9a62d=JSON[_0x17e2ba(0x80)](_0x9a62d);else{_0x9a62d=[];let _0x498f5e={'unionInfo':{'$elemMatch':{'unionID':_0x39822c}}},_0x45c572=await commonDao[_0x2175b3(0x191)](_0x2175b3(0x1e7),_0x498f5e,null,0x0,0x0);for(let _0x2c81d9=0x0;_0x2c81d9<_0x45c572[_0x17e2ba(0x89)];_0x2c81d9++){let _0x375321=_0x45c572[_0x2c81d9],_0xd72013=_0x375321[_0x2175b3(0x1ff)][_0x2175b3(0x1a4)](function(_0x1e35ad){const _0xaba342=_0x2175b3;return _0x1e35ad[_0xaba342(0x1ad)]===_0x39822c;}),{uid:_0x2d0c2e,nickname:_0x5de446,avatar:_0x3fdf92,isAgent:_0x3b00e7,userType:_0x23c86f,isTest:_0x45ec7e}=_0x375321,{spreaderID:_0x51db83,score:_0x83d485,saveScore:_0x4fe3,showFixScore:_0xae64a1,partner:_0x3b2366,rebateRate:_0x27a70e,manager:_0x560a8a,limitScore:_0x20e393,targetScore:_0x1b53a4,floatScore:_0x437dfe}=_0xd72013,_0x27af39={'uid':_0x2d0c2e,'nickname':_0x5de446,'score':_0x83d485,'saveScore':_0x4fe3,'avatar':_0x3fdf92,'isAgent':_0x3b00e7,'userType':_0x23c86f,'isTest':_0x45ec7e,'spreaderID':_0x51db83,'showFixScore':_0xae64a1,'partner':_0x3b2366,'rebateRate':_0x27a70e,'manager':_0x560a8a,'limitScore':_0x20e393,'targetScore':_0x1b53a4,'floatScore':_0x437dfe};_0x9a62d[_0x17e2ba(0xd3)](_0x27af39);}}return _0x9a62d;},service[a0_0x309950(0x1a9)]=async function(_0x48e442,_0xa6fad4,_0x30ba05=null){const _0x3b84a4=a0_0x3333dc,_0x3e4c5f=a0_0x309950;!_0x30ba05&&(_0x30ba05=await service[_0x3b84a4(0x9b)](_0xa6fad4));let _0x326bd0=_0x30ba05[_0x3e4c5f(0x19f)](),_0x2107f8=_0x326bd0[_0x3e4c5f(0x1a4)](_0x356732=>_0x356732[_0x3e4c5f(0x1e2)]==_0x48e442),_0x1ec858=(_0x2107f8[_0x3e4c5f(0x1ef)]||0x0)+(_0x2107f8[_0x3b84a4(0xbc)]||0x0);if(_0x2107f8){let _0x3863dd=!![],_0x330dc7=[_0x2107f8[_0x3e4c5f(0x1e2)]];while(_0x3863dd){let _0x22adc0=_0x326bd0[_0x3e4c5f(0x19e)](_0x409526=>_0x330dc7[_0x3e4c5f(0x187)](_0x409526[_0x3e4c5f(0x1c7)]));_0x22adc0[_0x3e4c5f(0x1ae)]>0x0?(_0x330dc7=[],_0x22adc0[_0x3e4c5f(0x1e5)](_0x5dc6bd=>{const _0x274186=_0x3b84a4,_0x22dc5d=_0x3e4c5f;_0x330dc7[_0x274186(0xd3)](_0x5dc6bd[_0x22dc5d(0x1e2)]),_0x1ec858+=_0x5dc6bd[_0x274186(0x102)]||0x0,_0x1ec858+=_0x5dc6bd[_0x22dc5d(0x20c)]||0x0;})):_0x3863dd=![];}}return _0x1ec858;},service['getUserLowAll']=async function(_0x5436a1,_0x10b7b4,_0x2f2d0a=null){const _0x484649=a0_0x3333dc,_0x364bae=a0_0x309950;!_0x2f2d0a&&(_0x2f2d0a=await service[_0x364bae(0x1f5)](_0x10b7b4));let _0xfdfa5f=_0x2f2d0a[_0x364bae(0x19f)](),_0x168215=_0xfdfa5f[_0x484649(0xcf)](_0x1ff5f6=>_0x1ff5f6[_0x364bae(0x1e2)]==_0x5436a1),_0x2beded=[_0x5436a1];if(_0x168215){let _0xe5f3d8=!![],_0xee626d=[_0x168215[_0x484649(0xca)]];while(_0xe5f3d8){let _0x23ad9a=_0xfdfa5f[_0x364bae(0x19e)](_0x19288b=>_0xee626d[_0x364bae(0x187)](_0x19288b[_0x364bae(0x1c7)]));_0x23ad9a[_0x364bae(0x1ae)]>0x0?(_0xee626d=[],_0x23ad9a[_0x364bae(0x1e5)](_0x475a9f=>{const _0x5b1a5f=_0x364bae;_0xee626d['push'](_0x475a9f[_0x5b1a5f(0x1e2)]),_0x2beded[_0x5b1a5f(0x1f8)](_0x475a9f[_0x5b1a5f(0x1e2)]);})):_0xe5f3d8=![];}}return _0x2beded;},service[a0_0x309950(0x1c0)]=async function(_0x261c11,_0xf4726,_0x1d25cf=null){const _0x20c829=a0_0x3333dc,_0x3c0a4c=a0_0x309950;!_0x1d25cf&&(_0x1d25cf=await service[_0x3c0a4c(0x1f5)](_0xf4726));let _0x3487e0=_0x1d25cf[_0x20c829(0x101)](),_0x7d21a8=_0x3487e0[_0x3c0a4c(0x1a4)](_0x27117e=>_0x27117e[_0x3c0a4c(0x1e2)]==_0x261c11),_0x1fcc6d=_0x7d21a8['spreaderID'],_0x4403b8=[];if(_0x7d21a8){let _0x4956a4=!![];while(_0x4956a4&&_0x1fcc6d&&_0x1fcc6d!=''){let _0x5504f0=_0x3487e0[_0x20c829(0xcf)](_0x169009=>_0x169009[_0x3c0a4c(0x1e2)]==_0x1fcc6d);_0x5504f0?(_0x4403b8[_0x3c0a4c(0x1f8)](_0x5504f0[_0x3c0a4c(0x1e2)]),_0x1fcc6d=_0x5504f0[_0x3c0a4c(0x1c7)],_0x1fcc6d==''&&(_0x4956a4=![])):_0x4956a4=![];}}return _0x4403b8;},service[a0_0x309950(0x1b4)]=function(_0x418d41,_0x3df2c0){return new Promise((_0x399da4,_0x365825)=>{const _0x21d6bc=a0_0x5919;let _0x7aab56=[],_0x4d7710=0x0,_0x5f32b9=![];async[_0x21d6bc(0xba)](async _0x7667d8=>{const _0x53ceae=_0x21d6bc,_0x3620bf=a0_0x1825;let _0x3074a2=await userDao[_0x3620bf(0x1d7)](_0x418d41);_0x4d7710+=0x1;if(_0x3074a2){let _0x10a943=_0x3074a2[_0x3620bf(0x1ff)][_0x3620bf(0x1a4)](function(_0x38db65){const _0x5592a6=_0x3620bf;return _0x38db65[_0x5592a6(0x1ad)]===_0x3df2c0;});if(_0x10a943){let _0x1dc59e=_0x10a943[_0x3620bf(0x1c7)],_0x509eee=_0x10a943[_0x3620bf(0x1cb)],_0x3bbf79=0x0;_0x10a943[_0x3620bf(0x202)]&&(_0x3bbf79=_0x10a943[_0x3620bf(0x1d3)]);let _0x381a33=_0x10a943[_0x53ceae(0xb3)]||0x0,_0x170e98={'userId':_0x418d41,'spreaderID':_0x1dc59e,'rebateRate':_0x509eee,'ticketRate':_0x381a33,'count':_0x4d7710,'fixScoreRate':_0x3bbf79};_0x7aab56[_0x3620bf(0x1f8)](_0x170e98),_0x10a943[_0x3620bf(0x1c7)]==''||!_0x10a943[_0x53ceae(0xb5)]?_0x5f32b9=!![]:_0x418d41=_0x10a943[_0x3620bf(0x1c7)];}else _0x5f32b9=!![];}else _0x5f32b9=!![];_0x4d7710>0x64&&(_0x5f32b9=!![]),_0x7667d8(null,_0x418d41);},()=>{return _0x5f32b9;},(_0x40853c,_0x53ab23)=>{_0x40853c?_0x365825([]):_0x399da4(_0x7aab56);});});};