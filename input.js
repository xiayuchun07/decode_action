!function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,c=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},i={8:0},r={8:0};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{1:1,3:1,4:1,6:1}[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+e+".view-129325f.min.css",a=o.p+r,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=(d=s[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===r||l===a))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var d;if((l=(d=u[c]).getAttribute("data-href"))===r||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css";p.onerror=p.onload=function(r){if(p.onerror=p.onload=null,"load"===r.type)t();else{var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,delete i[e],p.parentNode.removeChild(p),n(c)}},p.href=a,document.head.appendChild(p)})).then((function(){i[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+e+".view-129325f.min.js"}(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//lib.eqh5.com/h5_view_2/",o.p=(/http/.test(location.protocol)?null:"http://lib.eqh5.com/h5_view_2/")||o.p,o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=s;o(o.s=239)}([function(e,t,n){"use strict";function i(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)||window.screen.width<500}function r(){return window.top===window&&/MicroMessenger/i.test(window.navigator.userAgent)}function o(){var e=n(11).isEqxWxMini;return"miniprogram"==window.__wxjs_environment||e()}function a(){return/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.appVersion)}function s(){return/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)}function c(e){return 8==e.bizType}function l(){var e="Win32"==navigator.platform||"Windows"==navigator.platform,t="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;return t?"Mac":"X11"!=navigator.platform||e||t?String(navigator.platform).indexOf("Linux")>-1?"Linux":e?"Windows":"other":"Unix"}e.exports={mobilecheck:i,isMobile:i,isWeixin:r,isAndroidPhone:function(){return i()&&a()},isAndroid:a,tabletCheck:s,iphoneCheck:function(){return/iPhone/i.test(navigator.userAgent)},isPc:function(){return!(i()||s()&&window===window.top)},isApp:function(){return!!(0,n(5).getUrlParam)("appclient")||!!window.viewData},isIOS:function(){return/ipad|iphone/i.test(navigator.userAgent)},isSafari:function(){return/msie|applewebkit.+safari/i.test(navigator.userAgent)},checkParams:function(){var e=n(5).getUrlParam;if(o()&&e("appclient")){var t=window.location.href.replace(/&?appclient=true/,"");window.location.href=t}},isWeChatMiniProgram:o,getAndroidVersion:function(){var e=window.navigator.userAgent;return parseFloat(e.substr(e.indexOf("Android")+8,3))},shouldBeSafari:function(){var e=navigator.userAgent.toUpperCase();return!/CHROME|ANDROID/.test(e)&&/((MAC|IPHONE|IPAD|IPOD|IOS)[\s\S]*APPLE)|SAFARI/.test(e)},getWxVersion:function(){return r()?navigator.userAgent.match(/MicroMessenger\/([\d\.]+)/i)[1]:"0.0.0.0"},isFeiShu:function(){var e=n(5).getUrlParam;return/Lark/i.test(navigator.userAgent)||e("feishuView")},isFeiShuView:function(){return!!(0,n(5).getUrlParam)("feishuView")},isMac:function(){return/macintosh|mac os x/i.test(navigator.userAgent)},isWindows:function(){return/windows|win32/i.test(navigator.userAgent)},isWxwork:function(){return/wxwork/i.test(navigator.userAgent)&&/MicroMessenger/i.test(navigator.userAgent)},isOpenPlatformScene:c,isOpenPlatformWXAccreditScene:function(e){return c(e)&&e.property.accreditSetting},isEditorView:function(){return!window.scene||!window.scene.code},getBrowserInfo:function(){var e={},t=navigator.userAgent.toLowerCase().match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return e.browser=t[1].replace(/version/,"safari"),e.version=t[2],{browser:e.browser,version:e.version,os:l()}},isTemporaryUrl:function(){return/temporary/.test(window.location.href)}}},function(e,t,n){"use strict";var i=n(84),r={publicHost:i.publicHost,SERVER_0:i.SERVER_0,SERVER_3:i.SERVER_3,SERVER_MEMBER:i.SERVER_MEMBER,INFO_SERVER:i.INFO_SERVER,SERVER_1:i.SERVER_1,SERVER_4:i.SERVER_4,SERVER_2:i.SERVER_2,SERVER_S3:i.SERVER_S3,SERVER_1_CDN:i.SERVER_1_CDN,FLOW_SERVER:i.FLOW_SERVER,FLOW_BEANJS:i.FLOW_BEANJS,FLOW_ADJS:i.FLOW_ADJS,WAP_SERVER:i.WAP_SERVER,SERVER_MAX:i.SERVER_MAX,QUERY_SERVER:i.QUERY_SERVER,PAY_SERVER:i.PAY_SERVER,FONT:i.FONT,HOST:i.HOST,AD_HOST:i.AD_HOST,VCMS:i.VCMS,EQX:i.EQX,WAP_HOST:i.WAP_HOST,VIEW_HOST:i.VIEW_HOST,VIEW_HOST_EBDAN:i.VIEW_HOST_EBDAN,MATERIAL_API:i.MATERIAL_API,PAY_HOST:i.PAY_HOST,MALL_HOST:i.MALL_HOST,MSEARCH_HOST:i.MSEARCH_HOST,MOBILE_SERVER_1:i.MOBILE_SERVER_1,WX_API:i.WX_API,H5WX_API:i.H5WX_API,WX_thirdOpenId:i.WX_thirdOpenId,DOWN_VIDEO:i.DOWN_VIDEO,LWORKAPI:i.LWORKAPI,IOM:i.IOM,EMW:i.EMW,AI_SERVER:i.AI_SERVER,ASYNC_COMPS:i.ASYNC_COMPS,MATERIALBUNDLEJS:i.MATERIALBUNDLEJS,MATERIALBUNDLECSS:i.MATERIALBUNDLECSS,LAYOUTJS:i.LAYOUTJS,LAYOUTCSS:i.LAYOUTCSS,EQX_HD_PLUGIN_JS:i.EQX_HD_PLUGIN.js,EQX_HD_PLUGIN_CSS:i.EQX_HD_PLUGIN.css,EQX_AI_PLUGIN:i.EQX_AI_PLUGIN.js,TRACK:i.TRACK,STORE:i.STORE,YQC:i.YQC,PAY_XD_HOST:i.PAY_XD_HOST,XUTTUI:i.XUTTUI,WORK_DOMAIN:i.WORK_DOMAIN,LWORK:i.LWORK,WX_WORK:i.WX_WORK,BIND_USER_FILE:i.BIND_USER_FILE,FREE_USER_FILE:i.FREE_USER_FILE,VIP_USER_FILE:i.VIP_USER_FILE,FILE:i.FILE,ATTACH_FILE:i.ATTACH_FILE,DOMAIN:i.DOMAIN,EQX_FAN_DOMAIN:i.EQX_FAN_DOMAIN,EQX_AD_DOMAIN:i.EQX_AD_DOMAIN,EQX_VIP_DOMAIN:i.EQX_VIP_DOMAIN,EQX_COMPANY_DOMAIN:i.EQX_COMPANY_DOMAIN,EQX_TG:i.EQX_TG,EQX_APP_DOMAIN:i.EQX_APP_DOMAIN,EQX_NO_BUSINESS_DOMAIN:i.EQX_NO_BUSINESS_DOMAIN,EQX_BATCH_SCENES_DOMAIN:i.EQX_BATCH_SCENES_DOMAIN,MALL_BUY_ID:i.MALL_BUY_ID,MALL_PIC_ID:i.MALL_PIC_ID,MALL_MUSIC_ID:i.MALL_MUSIC_ID,MALL_SOUND_ID:i.MALL_SOUND_ID,MALL_FONT_ID:i.MALL_FONT_ID,MATERIAL_FRONT_CATEGORY_ID:i.MATERIAL_FRONT_CATEGORY_ID,MATERIAL_PIC_CATEGORY_ID:i.MATERIAL_PIC_CATEGORY_ID,MALL_PIC_ID_NEW:i.MALL_PIC_ID_NEW,MALL_MUSIC_ID_NEW:i.MALL_MUSIC_ID_NEW,MALL_SOUND_ID_NEW:i.MALL_SOUND_ID_NEW,MALL_FONT_ID_NEW:i.MALL_FONT_ID_NEW,MALL_PAGE_ID_NEW:i.MALL_PAGE_ID_NEW,MALL_PAGE_ID_NEW_LANDSCAPE:i.MALL_PAGE_ID_NEW_LANDSCAPE,MALL_PAGE_ID_SCENE:i.MALL_PAGE_ID_SCENE,MALL_FUNCTION_ID_NEW:i.MALL_FUNCTION_ID_NEW,MALL_FUNCTION_ID_NEW_DEFAULT:i.MALL_FUNCTION_ID_NEW_DEFAULT,MALL_MATERIAL:i.MALL_MATERIAL,SERVER_LPAGE:i.SERVER_LPAGE,MALL_PIC_ID_DEFAULT:i.MALL_PIC_ID_DEFAULT,MALL_BG_ID_DEFAULT:i.MALL_BG_ID_DEFAULT,MALL_MUSIC_ID_DEFAULT:i.MALL_MUSIC_ID_DEFAULT,MALL_SOUND_ID_DEFAULT:i.MALL_SOUND_ID_DEFAULT,MALL_FONT_ID_DEFAULT:i.MALL_FONT_ID_DEFAULT,MALL_TEXT_TEMPLATE:i.MALL_TEXT_TEMPLATE,MALL_IMAGE_TEMPLATE:i.MALL_IMAGE_TEMPLATE,MALL_GRAPHIC_TEMPLATE:i.MALL_GRAPHIC_TEMPLATE,MALL_FORM_TEMPLATE:i.MALL_FORM_TEMPLATE,MALL_BUTTON_TEMPLATE:i.MALL_BUTTON_TEMPLATE,MALL_VOTE_TEMPLATE:i.MALL_VOTE_TEMPLATE,MALL_INTERACTIVE_TEMPLATE:i.MALL_INTERACTIVE_TEMPLATE,MALL_CHART_TEMPLATE:i.MALL_CHART_TEMPLATE,MALL_LONG_PAGE_TEMPLATE:i.MALL_LONG_PAGE_TEMPLATE,MALL_STORAGE_LIMIT:i.MALL_STORAGE_LIMIT,BENEFIT_EXCEPTION_TEXT_SETTING:i.BENEFIT_EXCEPTION_TEXT_SETTING,UPLOAD_BUCKET:i.UPLOAD_BUCKET,VIDEO:i.VIDEO,WAP_TPL_CENTER:i.WAP_TPL_CENTER,TENCENTVIDEO:i.TENCENTVIDEO,TENCENTIMAGE:i.TENCENTIMAGE,ToH2:i.ToH2,LongPage:i.LongPage,LongPage_PREVIEW:i.LongPage_PREVIEW,H5_CONFIG:i.H5_CONFIG,MP1_HOST:i.MP1_HOST,Audit:i.Audit,Storemarket:i.Storemarket,fontDialogCss:i.fontDialog.css,fontDialogJs:i.fontDialog.js,memberBenefitsCss:i.memberBenefits.css,memberBenefitsJs:i.memberBenefits.js,MATERIAL_JS:i.materialFontExpired.js,MATERIAL_CSS:i.materialFontExpired.css,browserRecommendCss:i.browserRecommends.css,browserRecommendJs:i.browserRecommends.js,eqxFeedback:i.eqxFeedback,eqxRecharge:i.eqxRecharge,phoneBindCheckJs:i.phoneBindCheckJs};function o(e){var t=window.location.protocol;return"file:"===t&&(t="http:"),e&&e.startsWith("//")?t+e:e}Object.keys(r).forEach((function(e){var t=r[e];Array.isArray(t)?t.forEach((function(e,n){"string"==typeof e&&(t[n]=o(e))})):r[e]=o(t)})),e.exports=r},function(e,t,n){"use strict";var i,r,o=(i=window.getComputedStyle(document.documentElement,""),r=(Array.prototype.slice.call(i).join("").match(/-(moz|webkit|ms)-/)||""===i.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+r+")","i"))[1],lowercase:r,css:"-"+r+"-",js:r[0].toUpperCase()+r.substr(1)});e.exports={addGlobalStyle:function(e){var t=document.getElementsByTagName("style")[0];if(!t){t=document.createElement("style");var n=document.head||document.getElementsByTagName("head")[0];t.type="text/css",n.appendChild(t)}var i=document.createTextNode(e);t.appendChild(i)},addSuffixPx:function(e){return-1===(e=""+e).indexOf("px")&&(e+="px"),e},preFixCss:function(e,t,n){var i=o.js+t.substring(0,1).toUpperCase()+t.substring(1,t.length);e.style[i]=n},prefix:o,addGlobalStyleBySrc:function(e){var t=document.createElement("link"),n=document.head||document.getElementsByTagName("head")[0];t.rel="stylesheet",t.href=e,n.appendChild(t)}}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=c(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(254);var f=n(68).getRatio,h=n(1),m=n(255),v=n(4).parse,g=n(13).qiniuZoom,y=n(49),b=n(256),w=n(257),x=n(258),_=n(125),S=n(70).perfectComp,E=n(129),k=n(130),C=n(7),T=n(268),I=n(10).popYaoModal,P=n(0).iphoneCheck,O=n(12).getSafeStr,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,n,i,c=u(d);function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,d),(t=c.call(this)).$ability={style:{self:!0,compFont:{self:!1,fontFamily:!1,fontSize:!1,fontColor:!1,baseStyle:!1,lineHeight:!1,letterSpacing:!1},compStyle:{self:!0},functionStyle:{self:!0},advanceStyle:{self:!0,function:!1,border:!0,shadow:!0,sizePos:!0,paddingTop:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0,variable:!1,size:!0,position:!0,rotate:!0,opacity:!0,align:!0},lock:!0},anim:!0,trigger:{self:!0,click:!0,shake:!0,taphold:!0,slide:!0,mediaCanplay:!0,mediaEnded:!0,mediaPlaying:!0,animStart:!0,animIteration:!0,animEnd:!0,exceptionSuc:!1},removeComp:!0,copyComp:!0,sound:!0,link:!1,flexLine:"n,ne,e,se,s,sw,w,nw,r"},t.compJson=e,t.id=t.compJson.id,t.type=t.compJson.type,t.displayed=!1,"string"==typeof t.compJson.properties&&(t.compJson.properties={}),t.compJson.properties.initType=t.compJson.properties.initType||0,t.anim=t.compJson.properties.anim||[],t.eqxLayer=n,t.eqxPage=t.eqxLayer.eqxPage,t.eqxScene=t.eqxPage.eqxScene,t.parent=t.eqxPage,t.eqxScene&&t.eqxScene.config&&"edit"!==t.eqxScene.config.mode&&(t.initVariable(),t.variableSync()),t}return t=d,(n=[{key:"$item",get:function(){return this.$li}},{key:"css",get:function(){return this.compJson.css}},{key:"zIndex",get:function(){return this.css.zIndex},set:function(e){this.css.zIndex=e}},{key:"isEditLocked",get:function(){return(this.compJson||{}).properties.editLock},set:function(e){(this.compJson||{}).properties.editLock=e}},{key:"initType",get:function(){return(this.compJson||{}).properties.initType},set:function(e){(this.compJson||{}).properties.initType=e}},{key:"getZIndex",value:function(){return this.css.zIndex}},{key:"setZIndex",value:function(e){this.css.zIndex=e}},{key:"isGroupItem",value:function(){return!1}},{key:"getFtEditableProps",value:function(){var e=this.FtEditableProps;return s(p(d.prototype),"getFtEditableProps",this).call(this).concat([e.color.backgroundColor,e.color.borderColor,e.color.boxShadowColor])}},{key:"updateAbility",value:function(e,t){this.$ability[e]=t}},{key:"isCanDelete",value:function(){return this.$ability.removeComp}},{key:"isCanCopy",value:function(){return this.$ability.copyComp}},{key:"isPropCanEdit",value:function(e){var t=this.FtEditableProps,n=this.compJson.css;switch(e){case t.color.backgroundColor:return n.backgroundColor;case t.color.borderColor:return n.borderWidth;case t.color.boxShadowColor:return n.boxShadowSize;case t.link.url:return this.hasTrigger("link");case t.internalLink.internalLink:return this.hasTrigger("page");case t.sound.soundSrc:return this.hasTrigger("sound");case t.telephone.number:return this.hasTrigger("tel")}return!0}},{key:"addShade",value:function(e){this.$li&&this.$li.append('\n            <div class="view-shadow-style">\n            </div>\n        '),e&&this.$li.find(".view-shadow-style").on("click",e)}},{key:"getFtValue",value:function(e){var t=this.FtEditableProps,n=this.compJson.css;switch(e){case t.content.content:return this.compJson.content;case t.color.color:return n.color;case t.color.backgroundColor:return n.backgroundColor;case t.color.borderColor:return n.borderColor;case t.color.boxShadowColor:return E.parseBoxShadow(n.boxShadow).color;case t.link.url:var i=this.hasTrigger("link");return i?this.getRawLinkUrl():"http://";case t.internalLink.internalLink:return(i=this.hasTrigger("page"))?i.targetContent:this.eqxPage.pageJson.id;case t.sound.soundSrc:return this.compJson.sound;case t.telephone.number:return(i=this.hasTrigger("tel"))?i.targetContent:0}}},{key:"lock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateProp("businessEditorLock",e),this.lockEditor()}},{key:"lockEditor",value:function(){var e='\n            <div class="editor-lock-style">\n                <img src=\''.concat(T,"'/>\n            </div>\n        ");this.$li&&this.$li.append(e)}},{key:"unLockEditor",value:function(){this.$li.find(".editor-lock-style").remove()}},{key:"unLock",value:function(){this.updateProp("businessEditorLock",!1),delete this.compJson.properties.businessEditorLock,this.unLockEditor()}},{key:"hasTrigger",value:function(e){var t=this.triggerManager;switch(e){case"link":return t.findEqxItemTriggerItem(this,"click","link");case"internalLink":case"page":return t.findEqxItemTriggerItem(this,"click","page");case"sound":case"video":return t.findEqxItemTriggerItem(this,"click","play");case"tel":return t.findEqxItemTriggerItem(this,"click","phone")}}},{key:"updateJson",value:function(e){return e=JSON.parse(JSON.stringify(e)),S(e,this.eqxScene.sceneJson,this.eqxPage.pageJson),delete e.id,delete e.num,delete e.pageId,delete e.sceneId,delete e.type,Object.assign(this.compJson,e),this}},{key:"getAbsolutePos",value:function(){var e=this.css,t=e.width,n=e.height,i=e.top,r=e.left,o=e.transform;return{width:parseFloat(t),height:parseFloat(n),top:parseFloat(i),left:parseFloat(r),transform:o}}},{key:"isFunTemplate",value:function(){var e=this.findTopGroup();return e!==this&&e.isFunTemplate()}},{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this.compJson))}},{key:"isEditLock",value:function(){return this.getProp("editLock")}},{key:"updateDisplayStatus",value:function(){}},{key:"getImgSrc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=this.eqxScene.config.disableQiniuZoom,r=t.width,o=t.height;if(i)return g(e,null,null,n);var a=window,s=a.devicePixelRatio,c=void 0===s?1:s,l=f()*c;c<=1&&(l=2*f());var u=r*l||null,d=o*l||null;return g(e,u,d,n)}},{key:"getName",value:function(){return this.compJson.name||"组件"}},{key:"getCss",value:function(e){var t=this.compJson.css;return e?t[e]:t}},{key:"toString",value:function(){var e=this.compJson,t=e.pageId,n=e.id,i=e.num;return"page-".concat(t,"-comp-").concat(n,"-num-").concat(i)}},{key:"getProp",value:function(e){return this.compJson.properties[e]}},{key:"setProps",value:function(e){var t=this,n=this.compJson.properties;Object.keys(e).forEach((function(i){var r=e[i];"sound"===i?t.compJson.sound=r:null==r||""===r?delete n[i]:n[i]=r}))}},{key:"setProp",value:function(e,t){this.setProps(function(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"update$li",value:function(e){e&&(this.updateCss(e),this.$li&&this.$li.css(e))}},{key:"update$boxDiv",value:function(e){var t=this;this.updateCss(e),this.$boxDiv.css(e),Object.keys(e).forEach((function(n){"fontSize"===n&&t.$boxDiv.css({"font-size":e[n]+"px"}).find("#"+t.compJson.id).css({"font-size":e[n]+"px"})}))}},{key:"onResize",value:function(e,t,n){}},{key:"rotate",value:function(e){this.onRotate("rotateZ(".concat(e,"deg)"))}},{key:"getTransform",value:function(){return this.compJson.css.transform||"rotateZ(0)"}},{key:"updateTransform",value:function(e){this.compJson.css.transform=e,this.$item.css({transform:e})}},{key:"updateCss",value:function(e){if(e){var t=this.compJson.css;Object.keys(e).forEach((function(n){t[n]=e[n]}))}}},{key:"updateProp",value:function(e,t){this.compJson.properties[e]=t}},{key:"updateTranslated3dZ",value:function(e){this.$li&&this.$li.css(e)}},{key:"updatePos2",value:function(e,t){throw new Error("updatePos2 deprecated")}},{key:"updateSize",value:function(e,t){this.updateCss(t),this.autoSize()}},{key:"resetStyle",value:function(){this.update$li({opacity:1}),this.update$boxDiv({fontSize:"24px",color:"#676767",backgroundColor:"",fontWeight:"normal",fontStyle:"normal",textAlign:"left",textDecoration:"none",letterSpacing:0,borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0,transform:"none",opacity:1})}},{key:"render",value:function(){if(this.rendered)return this.$li;this.$li&&(this.$li.remove(),this.$li=null);var e=this.$li=this.create$li(),t=this.eqxScene.config,n=t.disableCompEvent,i=t.disableTrigger;return n||this.addEventListeners(),i||this.addSoundEvent(),this.addAnimationClass(),this.rendered=!0,e}},{key:"create$li",value:function(){var e=this,t=this.eqxScene,n=this.compJson,i=n.id,r=n.num,o=n.type,a=n.css,s=n.properties,c=n.sound;this.removePerformanceCss(a);var l=a.zIndex,u=a.transform,d=a.display,p=a.opacity,f="string"!=typeof u?"":u,h=t.config,g=function(e,t){if(t&&t.length)return"";var n="",i=/rotateZ\((-?\d*\.?\d*)(deg|)\)/.exec(t);/translate3d\((.*?)\)/.exec(t),i&&i.length&&(n+="".concat(i[0]," "));var r=e.eqxPage.pageJson.properties.oneShot,o=void 0===r?{}:r,a=e.eqxScene.config;return e.compJson.properties.translate3dZ,o.isOpen&&a.mode,n+=f||""}(this,f),y=this.getAbsolutePos(),b=this.$li=$(v(m,{id:i,num:r,type:o}));"edit"===this.eqxScene.config.mode&&(b.addClass("item-comp-hover"),s.isReplace&&b.addClass("comp-replace-icon"));var w=this.$boxDiv=b.find(".element-box"),x=this.$boxContentDiv=w.find(".element-box-contents"),_={};s.lock&&b.addClass("alock"),s.isLogo&&window.location.pathname.includes(t.meta.id)&&b.css({display:"none",opacity:"0"}),b.css({zIndex:l,transform:g,display:d,opacity:p}).attr("abs-pos","l-".concat(y.left,"-t-").concat(y.top,"-w-").concat(y.width,"-h-").concat(y.height)).attr("eqx-id",i),s&&s.kineticEffect&&b.css({pointerEvents:"none"}),this._updateSize(),this.addClassToLi(b),w.css(Object.assign({},a,{width:"100%",height:"100%",transform:"none",fontFamily:"",opacity:"",marginTop:"0px",marginBottom:"0px",zIndex:"auto"}));var S=f.indexOf("rotateX(180deg)")>-1,E=f.indexOf("rotateY(180deg)")>-1;if(a.turnOver||(S&&(a.turnOver="rotateX(180deg)"),E&&(a.turnOver="".concat(a.turnOver||""," rotateY(180deg)"))),_.transform=a.turnOver,x.css(_),c&&c.id&&"edit"===h.mode&&this.addSoundIcon(),this.$contentsDiv=x,66==this.compJson.type||65==this.compJson.type)window.HdPluginInstantiate?this.create$context(x,s.activityId,h.mode):C.$loadHdplugin().then((function(){e.create$context(x,s.activityId,h.mode)}));else{var k=this.create$context();"25"!=this.type&&(this.$context=k),x.append(k)}var T,O,A=t.variableComps,L=A.texts,M=A.inputs,R=A.images,D=A.uploads;if(-1!==["501","502","503","504"].indexOf(o.toString()))M.push(this);else if("7"===o.toString()){var j=s.var;j&&j.isUsed&&L.push(this)}else if("upload"===o)D.push(this);else if("4"===o.toString()){var q=s.var;q&&q.isUsed&&R.push(this)}return T=s.GSensor,(O=void 0===T?{}:T)&&O.isUsed&&"edit"!==h.mode&&new Promise((function(e,t){P()&&void 0!==window.DeviceMotionEvent&&"function"==typeof window.DeviceMotionEvent.requestPermission?N().then((function(){e()})).catch((function(n){1===n.type?I("zhongli2",(function(){t()})):2===n.type&&I("zhongli",(function(){N().then((function(){e()})).catch((function(){I("zhongli2",(function(){t()}))}))}))})):e()})).then((function(){var e="positive"===O.direction?O.distance:-O.distance;b.addClass("layer"),b.attr("data-depth",e)})).catch((function(){console.error("重力感应授权失败")})),s._hide&&b.addClass("_hide"),b;function N(){return new Promise((function(e,t){window.DeviceMotionEvent.requestPermission().then((function(n){"granted"==n?e():t({type:1})})).catch((function(){t({type:2})}))}))}}},{key:"removePerformanceCss",value:function(e){if(this.eqxPage.oneShot&&this.eqxPage.oneShot.isOpen&&"view"===this.eqxScene.config.mode){["rotateZ(0deg)","translate3d(0px, 0px, 0px)"].includes(e.transform)&&delete e.transform,e.transform&&(e.transform=String(e.transform).replace("rotateZ","rotate")),"0px 0px 0px rgba(0,0,0,0.5)"===e.boxShadow&&delete e.boxShadow;var t=["borderRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"];t.every((function(t){return!e[t]}))&&t.forEach((function(t){delete e[t]}))}}},{key:"removeSoundIcon",value:function(){this.$soundIcon&&(this.$soundIcon.remove(),this.$soundIcon=null)}},{key:"addSoundIcon",value:function(){this.removeSoundIcon(),this.$soundIcon=$('<div class="comp-icon eqf-bell-f"></div>'),this.$boxDiv.after(this.$soundIcon)}},{key:"destroy",value:function(){this.eleHide(),this.$li.remove(),this.$li=null,this.rendered=!1}},{key:"create$context",value:function(){return $()}},{key:"addClassToLi",value:function(e){}},{key:"addEventListeners",value:function(){this.bindAfterRenderEvent(this.$li,this.compJson),this.addAnimSoundEvent(),this.addInteractiveVideoEvent()}},{key:"eleHide",value:function(){this.$li&&!this.canAddHideIcon()&&this.$li.css({display:"none"}),this.$li&&this.canAddHideIcon()&&this.addHideIcon(),this.soundAgent&&this.soundAgent.update(new y("hide")),this.anim&&this.anim.length&&this.anim.forEach((function(e){e.sound&&e.soundAgent&&e.soundAgent.update(new y("stop"))})),this.stopAnimation(),this.flux&&this.flux.playing&&this.flux.stop(),this.$clickTriggerTip&&this.$clickTriggerTip.removeClass("show-5")}},{key:"canAddHideIcon",value:function(){return"edit"===this.eqxScene.config.mode&&this.eqxPage.trigger.compHasTrigger(this.eqxPage.pageJson.properties.triggerGroup,this.compJson.id)}},{key:"addHideIcon",value:function(){this.$hideIcon=$('<div class="comp-icon" style="z-index: 999;"><em style="font-size: 14px" class="eqf-hidden-f"></em></div>'),this.$li.append(this.$hideIcon)}},{key:"removeHideIcon",value:function(){this.$hideIcon&&(this.$hideIcon.remove(),delete this.$hideIcon)}},{key:"addClickTriggerTip",value:function(){this.$clickTriggerTip||(this.$clickTriggerTip=$('<div class="comp-click-trigger-tip">\n                                        <div class="scale-item"></div>\n                                        <div class="center-point"></div>\n                                    </div>'),this.$li.append(this.$clickTriggerTip))}},{key:"addAnimationClass",value:function(){this.eqxCompAnim=new k(this,{}),this.eqxCompAnim.addAnimClassify()}},{key:"stopAnimation",value:function(){this.eqxCompAnim.stopAnimation()}},{key:"startAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index,n=e.maxCount;if(e.reset)var i=this,r=function(){i.stopAnimation()};this.eqxCompAnim.startAnimation({animIndex:t,maxCount:n,callback:r})}},{key:"previewAnimation",value:function(e){e&&this.eqxCompAnim.previewAnimation(e)}},{key:"eleShow",value:function(){if(this.eqxScene.config.disableCompAnim){var e=this.compJson.properties.anim||[];e[0]&&"typer"===e[0].type&&this.$context.css({opacity:1})}else this.startAnimation();this.$li&&this.$li.css({display:"block"}),this.$li&&this.canAddHideIcon()&&this.removeHideIcon(),this.flux&&this.compJson.properties.autoPlay&&(this.flux.stop(),this.flux.start()),this.$clickTriggerTip&&this.$clickTriggerTip.addClass("show-5"),this.eqxPage.pageJson.elements.find((function(e){return 39==e.type}))||$(".shop-order-list").hide()}},{key:"addInteractiveVideoEvent",value:function(){"o"===this.compJson.type&&this.compJson.src&&(this.interactiveVideoAgent=new x(this,this.eqxScene.soundManager))}},{key:"getLinkUrl",value:function(e){return/eqs\/link\?id=\d+&url=/.test(e)?e:(/^http:|^https:|^ftp:/.test(e)||(e=window.location.protocol+"//"+e),h.SERVER_1+"eqs/link?id="+this.eqxScene.meta.id+"&url="+encodeURIComponent(e))}},{key:"getRawLinkUrl",value:function(){var e=this.hasTrigger("link");if(e){var t=e.targetContent,n=/eqs\/link\?id=\d+&url=/.exec(t);if(n){var i=t.substr(n[0].length+n.index);return decodeURIComponent(i)}}}},{key:"addSoundEvent",value:function(){this.compJson.sound&&(this.soundAgent=new b(this,this.eqxScene.soundManager))}},{key:"addAnimSoundEvent",value:function(){var e=this,t=this.anim;t&&t.length&&t.forEach((function(t){t.sound&&(t.soundAgent=new w(e,t,e.eqxScene.soundManager))}))}},{key:"autoAdjustSize",value:function(){return{}}},{key:"bindAfterRenderEvent",value:function(e,t){}},{key:"initVariable",value:function(){if(this.compJson.properties.var&&this.compJson.properties.var.isUsed){var e=this.compJson.properties.var,t=e.comp,n=e.page,i=e.isUsed;if(this.updateContent){var r=this.compJson.content;r&&(r.length>4e4&&(r=r.substr(0,4e4)),r=(r=(r=r.replace(/(eval|script|atob)/g,"")).replace(/<\/?a.*?>/g,"")).replace(/<\/?(?!span|br|div|ul|ol|p|li\b)\w+\b[^<>]*>/g,"")),this.originContent=r,i&&window.variableValues&&window.variableValues[n]&&window.variableValues[n][t]&&(this.compJson.content=this.getVariableContent(O(window.variableValues[n][t])))}else if(this.updateImageSrc){var o=this.compJson.properties,a=(o=void 0===o?{}:o).src;this.originContent={key:a},i&&window.variableValues&&window.variableValues[n]&&window.variableValues[n][t]&&(this.compJson.properties.src=window.variableValues[n][t].key)}}}},{key:"variableSync",value:function(){var e=this;if(this.compJson.properties.var){var t=this.compJson.properties.var,n=t.comp;t.page,t.isUsed&&this.eqxScene.eventManager.subscribe("inputValueChange",{update:function(t){var i=t.data,r=i.id,o=(i.pageId,i.value);if(r===n){if(e.updateImageSrc){var a=o||e.originContent,s=a.key,c=a.w,l=a.h;e.updateImageSrc(s,c,l)}if(e.updateContent){var u=O(o)||e.originContent;e.updateContent(u)}}}})}}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),d}(_);e.exports=A},function(e,t,n){"use strict";e.exports={hashCode:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return Math.abs(t)},parse:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;"string"==typeof e&&(e=e.replace("\x3c!--//NOSONAR--\x3e",""));/\$\{([^}]*)}/.test(e)&&console.error("DO NOT USE ${}",e);var i=e;for(;n&&/#\{([^}]*)}/.test(i);)i=i.replace(/#\{([^}]*)}/g,(function(e,n){var i=t[n];return void 0!==i?i:e})),n--;return i}}},function(e,t,n){"use strict";var i=n(1),r=n(0).mobilecheck,o=n(118).getTimeOf;function a(e){return e.startsWith("//")&&(e=location.protocol+e),new window.URL(e)}function s(e){var t=location.href,n=l("toPage",t);n?n!==""+e&&(t=t.replace(n,e)):t=u("toPage",e),window.history.replaceState({title:$("title").html(),url:t},$("title").html(),t)}function c(){var e=window.scene||{};return!!(e.ext&&e.ext.yqc&&e.ext.yqc.upd&&e.publishTime<o(2019,8,9,12))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return a(t).searchParams.get(e)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,i=a(n);return i.searchParams.set(e,t),i.href}function d(e){var t=location.protocol;return"https:"!=t&&(t="http:"),/^\w{2,}:\/\//.test(e)||(e="//"+e),e.replace(/^\/\//,t+"//")}function p(e){return d(e).replace(/^https:/,"http:")}e.exports={parseUrl:a,getUrlParam:l,removeUrlParam:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=a(t);return n.searchParams.delete(e),n.href},removeUrlParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=a(t);return e.forEach((function(e){n.searchParams.delete(e)})),n.href},addUrlParam:u,replaceLocationHref:function(e){var t=window.location.href;history.replaceState({},t,e)},getUrlHost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return a(e).host},resolveUrl:function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments.length<=0?void 0:arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var i,r=document.createElement("a"),o=1;o<e;o++)r.href=o<0||arguments.length<=o?void 0:arguments[o],i=r.href,t.href=i;return n.removeChild(t),i},setUrlHistory:s,openUrl:function(e,t,n){if(n||!c()){e=decodeURIComponent(e);try{window._tracker_api_&&window._tracker_api_.report({s_link:e,e_linx:e,scene_id:window.scene.id,b_t:"extlink",b_v:"1.0",e_t:"element_click",product:"h5"})}catch(e){console.log(e)}r()?(s(t),location.href=e):window.open(e,"_blank")}},getPathName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=a(e);return t.pathname},getSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=a(e);return t.search},addProtocol:d,addProtocolNoLine:function(e){var t=location.protocol;return"https:"!=t&&(t="http:"),/^\w{2,}:\/\//.test(e)||(e="//"+e),e.replace(/^\/\//,t+"")},url2http:p,url2https:function(e){return d(e).replace(/^http:/,"https:")},redirectUrl:function(){return p(i.EQX),r()?"https://topic.eqxiu.com/topic/1596.html":"https://store.eqxiu.com"},extYqcLimit:c,addHttp:function(e){return(e=e.toString()).startsWith("http")||(e=location.protocol+e),new window.URL(e)},removeQueryParams:function(e){for(var t=new URL(window.location.href),n=0;n<e.length;n++)t.searchParams.delete(e[n]);window.history.replaceState({},"",t.toString())}}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,o,a,s,c,l=n(1),u=n(64).APP_ID,d=n(0),p=d.isOpenPlatformWXAccreditScene,f=d.isTemporaryUrl,h=n(85).getCurrentLocation,m=n(5).addUrlParam,v=n(5),g=v.removeUrlParams,y=v.removeUrlParam,b=n(13),w=b.addPrefix,x=b.qiniuZoom,_=n(30).isEqxAdSceneHost,S=n(31).$postWxComp,E=n(122).$getPvCount,k=n(87).$getAdAppIdAndDomain,C=n(34).isAdScene,T=n(10).popUpModal,I=n(10).popShareModal,P=n(67),O=n(9).getSafeRandom,A="",L={},M={},R=null;function $(e,t){C()&&(0,n(19).getAd)().reportEqxAd({type:e,method:t})}function D(e,t){var n=function(){return Promise.resolve(null)},r=function(){return Promise.resolve(null)};return e.title&&(n=function(){return function(e,t){var n="";return new Promise((function(r,o){if("object"===i(e))switch(e.type){case"myself":n+="我是".concat(L.nickname,",").concat(e.description),r(n);break;case"position":E(t).then((function(t){n+="我是第".concat(t,"位").concat(e.description),r(n)}));break;case"selfAndPosition":E(t).then((function(t){n+="我是".concat(L.nickname,", 我是第").concat(t,"位 ").concat(e.description),r(n)}));break;default:n=e.description,r(n)}else/#分享次数#/.test(e)?E(t).then((function(t){n=e.replace(/#分享次数#/,t).replace(/#分享者#/,L.nickname).replace(/#分享人位置#/,(window.INIT_ADDRESS_COMPONENTS?window.INIT_ADDRESS_COMPONENTS.city:"北京市")||"北京市"),r(n)})):(n=e.replace(/#分享者#/,L.nickname).replace(/#分享人位置#/,(window.INIT_ADDRESS_COMPONENTS?window.INIT_ADDRESS_COMPONENTS.city:"北京市")||"北京市"),r(n))}))}(e.title,t).then((function(t){o=B(o=e.nickname?j(t):t)}))}),e.description&&(r=function(){return function(e,t){var n="";return new Promise((function(r,o){if("object"===i(e))switch(e.type){case"myself":n+="我是".concat(L.nickname,",").concat(e.description),r(n);break;case"position":E(t).then((function(t){n+="我是第".concat(t,"位").concat(e.description),r(n)}));break;case"selfAndPosition":E(t).then((function(t){n+="我是".concat(L.nickname,", 我是第").concat(t,"位 ").concat(e.description),r(n)}));break;default:n=e.description,r(n)}else/#分享次数#/.test(e)?E(t).then((function(t){n=e.replace(/#分享次数#/,t).replace(/#分享者#/,L.nickname).replace(/#分享人位置#/,(window.INIT_ADDRESS_COMPONENTS?window.INIT_ADDRESS_COMPONENTS.city:"北京市")||"北京市"),r(n)})):(n=e.replace(/#分享者#/,L.nickname).replace(/#分享人位置#/,(window.INIT_ADDRESS_COMPONENTS?window.INIT_ADDRESS_COMPONENTS.city:"北京市")||"北京市"),r(n))}))}(e.description,t).then((function(t){A=B(A=e.nickname?j(t):t)}))}),n().then((function(){r()}))}function j(e){return e.replace(/#分享者#/g,L.nickname)}function q(){function e(){1===window.scene.isTemplate||2===window.scene.isTemplate||f()||I()}F().then((function(){var t=g(["toPage","openid","thirdOpenId"],s),n=t;if(window._tracker_api_)try{n=window._tracker_api_.getShareUrl(n)}catch(e){}var i=x(a,300,300);wx.onMenuShareTimeline({title:o,link:n,desc:A,imgUrl:i,success:function(){try{window._tracker_api_.share("timeline")}catch(e){}N(),e(),$("wxShare","onMenuShareTimeline")},cancel:function(){}}),wx.onMenuShareAppMessage({title:o,desc:A,link:n,imgUrl:i,success:function(){try{window._tracker_api_.share("message")}catch(e){}N(t),e(),$("wxShare","onMenuShareAppMessage")},cancel:function(){}}),wx.onMenuShareQQ({title:o,desc:A,link:n,imgUrl:i,success:function(){try{window._tracker_api_.share("qq")}catch(e){}e(),$("wxShare","onMenuShareQQ")},cancel:function(){}}),wx.onMenuShareWeibo({title:o,desc:A,link:n,imgUrl:i,success:function(){try{window._tracker_api_.share("weibo")}catch(e){}e(),$("wxShare","onMenuShareWeibo")},cancel:function(){}}),wx.onMenuShareQZone({title:o,desc:A,link:n,imgUrl:i,success:function(){try{window._tracker_api_.share("qzone"),$("wxShare","onMenuShareQZone")}catch(e){}},cancel:function(){}})})).catch((function(e){console.log(e)}))}function N(e){if(r)if(M.needWait){var t=M.needWait,n=setInterval((function(){if(M[t]){clearInterval(n),n=null;var e={userKey:r};L&&L.headimgurl&&(M.shareUserHeader=L.headimgurl),L&&L.nickname&&(M.shareUserName=L.nickname),delete M.needWait,e.data=JSON.stringify(M),S(e).catch((function(e){T(JSON.stringify(e))}))}}),200);setTimeout((function(){n&&(clearInterval(n),n=null)}),5e3)}else{var i={userKey:r};L&&L.headimgurl&&(M.shareUserHeader=L.headimgurl),L&&L.nickname&&(M.shareUserName=L.nickname),i.data=JSON.stringify(M),S(i).catch((function(e){T(JSON.stringify(e))}))}}function F(){return P.initWx()}function B(e){var t=e;if(!R){var i=n(19).getForbiddenTexts;R=i()}return R&&R.length>0&&t&&R.forEach((function(e){var n=new RegExp(e);t=t.replace(n,"")})),t}e.exports={initWeChat:function(e,t){if(r="",c=e.obj.property,o=c.shareDes&&c.shareDes.title&&c.shareDes.title.description?c.shareDes.title.description:e.obj.name,a=w(e.obj.cover),A=c.shareDes&&c.shareDes.description&&c.shareDes.description.description?c.shareDes.description.description||"我用易企秀做了一个超酷炫的H5，快来看看吧。":e.obj.description||"我用易企秀做了一个超酷炫的H5，快来看看吧。",s=t,c.shareDes&&"string"==typeof c.shareDes){var n=c.shareDes;c.shareDes={description:{type:"position",description:n}}}if(o=B(o),A=B(A),!c.shareDes)return q();c.shareDes.avatar&&(a=L.headimgurl);var i=e.obj.id;(function(e){return new Promise((function(t,n){var i=!1;e&&e.shareDes&&("string"==typeof e.shareDes.title&&/#分享人位置#/.test(e.shareDes.title)&&(i=!0),"string"==typeof e.shareDes.description&&/#分享人位置#/.test(e.shareDes.description)&&(i=!0)),i?h().then((function(e){t(),window.INIT_ADDRESS_COMPONENTS=e})).catch((function(e){t()})):t()}))})(c).then((function(){"{}"==JSON.stringify(c.shareDes.title)&&(c.shareDes.title=o),"{}"==JSON.stringify(c.shareDes.description)&&(c.shareDes.description=A),D(c.shareDes,i).then((function(){return q()})).catch((function(e){return console.error(e)}))})).catch(console.error)},shareWidthSDK:q,setWeChatUser:function(e){window._tracker_&&window._tracker_.push(["wx_user_info",{openid:e.openid,nickname:e.nickname,sex:e.sex,province:e.province,city:e.city,country:e.country,headimgurl:e.headimgurl,privilege:e.privilege,unionid:e.unionid}]);Object.assign(L,e),window.sessionStorage.setItem("wx_appid",L.thirdAppId||""),window.sessionStorage.setItem("wx_openid",L.thirdOpenid||L.openid||""),window.sessionStorage.setItem("wx_unionid",L.unionid||""),e.formSid&&window.sessionStorage.setItem("wx_formSid",e.formSid),e.answerSid&&window.sessionStorage.setItem("wx_answerSid",e.answerSid),window.eqxH5WxInfo=L},getWeChatUser:function(){return L},setWxCompData:function(e){M=e},saveWxCompData:function(e,t){M[e]=t},generateUserKey:function(){r=Date.now()+""+Math.floor(1e5*O()),s=m("userKey",r,s),q()},getWxJSSDK:F,hrefToWxAuth:function(e,t,n){var i,r,o=window.location.href,a=e||u,s=l.WX_API+"eqs/s/wx/user/info/get",c=!!n.property.isOpenSop,d=!!n.property.needRedPackageAuth;1!==(null===(i=n.property.wechatConfig)||void 0===i?void 0:i.openType)&&2!==(null===(r=n.property.wechatConfig)||void 0===r?void 0:r.openType)||(s=m("sceneCode",n.code,s));if(p(n)){a=n.property.accreditSetting.appId,s="".concat(l.WX_thirdOpenId,"h5/third-party/authorize"),s=m("state",o,s),s=m("appid",a,s),s=m("hdc",n.property.hdc&&0!=n.property.hdc.length?"1":"0",s);var f=n.property.hasAnswerPlugin;return f&&(s=m("hasAnswerPlugin",1,s),s=m("sceneId",n.id,s),s=y("hasShop",s)),n.property.hasShop&&(f||(s=m("hasShop",n.property.hasShop?"1":"0",s),s=m("sceneId",n.id,s)),window.localStorage.setItem("eqxShopCode",JSON.stringify({code:n.code,publishTime:n.publishTime,initTime:(new Date).getTime()}))),c&&(s=m("sop",1,s)),d&&(s=m("red",1,s),s=m("userId",n.userId,s)),void(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+a+"&redirect_uri="+encodeURIComponent(s)+"&response_type=code&scope=snsapi_userinfo&component_appid="+n.property.accreditSetting.thirdAppId+"#wechat_redirect")}if(_(location.host))return void k().then((function(i){var r=i.map||{};a=r.appId;var l=n&&n.code;s="".concat(r.domain,"/eqs/s/wx/ad/user/info/get/").concat(l),e&&(s=m("userId",t,s)),s=m("state",o,s),s=m("productType",1,s),s=m("hdc",n.property.hdc&&0!=n.property.hdc.length?"1":"0",s);var u=n.property.hasAnswerPlugin;u&&(s=m("hasAnswerPlugin",1,s),s=m("sceneId",n.id,s),s=y("hasShop",s)),n.property.hasShop&&(u||(s=m("hasShop",n.property.hasShop?"1":"0",s),s=m("sceneId",n.id,s)),window.localStorage.setItem("eqxShopCode",JSON.stringify({code:n.code,publishTime:n.publishTime,initTime:(new Date).getTime()}))),c&&(s=m("sop",1,s)),d&&(s=m("red",1,s),s=m("userId",n.userId,s)),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+a+"&redirect_uri="+encodeURIComponent(s)+"&response_type=code&scope=snsapi_userinfo#wechat_redirect"}));e&&(s=m("userId",t,s));var h=n.property.hasAnswerPlugin;h&&(s=m("hasAnswerPlugin",1,s),s=m("sceneId",n.id,s));s=m("state",o,s),s=m("productType",1,s),n.property.hdc&&0!=n.property.hdc.length&&(s=m("hdc",n.property.hdc&&0!=n.property.hdc.length?"1":"0",s));n.property.hasShop&&(h||(s=m("hasShop",n.property.hasShop?"1":"0",s),s=m("sceneId",n.id,s)),window.localStorage.setItem("eqxShopCode",JSON.stringify({code:n.code,publishTime:n.publishTime,initTime:(new Date).getTime()})));c&&(s=m("sop",1,s));d&&(s=m("red",1,s),s=m("userId",n.userId,s));window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+a+"&redirect_uri="+encodeURIComponent(s)+"&response_type=code&scope=snsapi_userinfo#wechat_redirect"},addCompKey:function(e,t){s=m("compKey",t,s=e),q()},setTitleAndDes:D}},function(e,t,n){"use strict";var i=n(5).addProtocol,r=n(86),o=n(8).$ajax,a={},s=n(1),c=n(65).delayLoadJSAndCSS;function l(e){var t=e.name,n=e.src,r=a[t];if(r)return Promise.resolve(r);var s=o({url:i(n),dataType:"script"}).then((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return a[t]=n,n}));return a[t]=s,s}var u=null,d=null;var p="TTOBZ-CJSLL-GUTP5-EFNLB-XAIW3-IAFGN";e.exports={TMAP_KEY:p,$loader:l,$loadQRCode:function(){return l({name:"qrcode",src:r.QRCode})},$loadSHA:function(){return l({name:"sha",src:r.SHA})},$loadQQMap:function(){return u||(u=new Promise((function(e,t){window.qqMapCallback=function(){e()},l({name:"qqmap",src:r.QQMap}).catch(t)})))},$loadChart:function(){return l({name:"chart",src:r.Chart})},$loadFlux:function(){return l({name:"flux",src:r.Flux})},$loadJWeixin:function(){return l({name:"jweixin",src:r.JWeixin})},$loadTyped:function(){return l({name:"typed",src:r.Typed})},$loadThreeCanvas:function(){return l({name:"threecanvas",src:r.threecanvas})},$loadSliders:function(){return l({name:"",src:r.sliders})},$loadParallax:function(){return l({name:"parallax",src:r.Parallax})},$canvas:function(){return l({name:"canvg",src:r.canvg})},$loadMLink:function(){return l({name:"mlink",src:r.MLink})},$loadQiniu:function(){return l({name:"qiniu",src:r.qiniu})},$loadPlupload:function(){return l({name:"plupload",src:r.plupload})},$loadTbsJs:function(){return l({name:"tbsJS",src:r.tbsJS})},$loadCryptoJS:function(){return l({name:"CryptoJS",src:r.CryptoJS})},$loadHtml2Canvas:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?"html2canvasOld":"html2canvas";return l({name:t,src:e?r.oldHtml2canvas:r.html2canvas}).then((function(){return l({name:"canvg",src:r.canvg})}))},$loadCropperJs:function(){return c(r.wapCropperCss,"css").then((function(){return l({name:"wapCropperJs",src:r.wapCropperJs})}))},$loadAMap:function(){return d||(d=new Promise((function(e,t){l({name:"tmap-like-amap",src:r.TMapLikeAMap}).then((function(){(0,window["tmap-like-amap"].default)({key:p}).then(e).catch(t)}))})))},$loadEqxAd:function(e){var t=s.FLOW_ADJS+"eqx.ad.render/eqx.ad.render.js",n=s.FLOW_ADJS+"eqx.ad.render/eqx.ad.render.css";return e&&(t="//lib.eqh5.com/eqx.ad.render/".concat(e,"/eqx.ad.render.min.js"),n="//lib.eqh5.com/eqx.ad.render/".concat(e,"/eqx.ad.render.min.css")),c(n,"css").then((function(){return l({name:"eqxAdJS",src:t})}))},$loadBeanJs:function(){return l({name:"eqxAdBeanJS",src:"//as.eqh5.com/funbean/eqx_content.js?t=1"})},$loaderHandsontableJs:function(){return l({name:"handsontableJs",src:r.handsontableJs})},$loadMarketComp:function(){var e=s.HOST.includes("eqxiu")?r.pro_marketCompCss:r.marketCompCss,t=s.HOST.includes("eqxiu")?r.pro_marketCompJs:r.marketCompJs;return c(e,"css").then((function(){return l({name:"marketCompJs",src:t})}))},$loadRadarComp:function(){var e=s.HOST.includes("eqxiu")?r.pro_radarCompCss:r.radarCompCss,t=s.HOST.includes("eqxiu")?r.pro_radarCompJs:r.radarCompJs;return c(e,"css").then((function(){return l({name:"radarCompJs",src:t})}))},$loaderLayDate:function(){return l({name:"layDate",src:r.laydate})},$loadAppeal:function(){return l({name:"appeal",src:r.appeal})},$loadTencent:function(){return l({name:"tencent",src:r.tencentJdk})},$loadLottie:function(){return l({name:"lottie",src:r.lottie})},$loadTweenjs:function(){return l({name:"tweenjs",src:r.tweenjs})},$loadXlsxjs:function(){return l({name:"xlsxjs",src:r.xlsx})},$loadqrcode144:function(){return l({name:"qrcodejs144",src:r.qrcode144})},$loadHdplugin:function(){return c(s.EQX_HD_PLUGIN_CSS,"css").then((function(){return l({name:"hdPlugin",src:s.EQX_HD_PLUGIN_JS})}))},$loadPhoneBindMarket:function(){return l({name:"phoneBindMarketCompJs",src:s.HOST.includes("eqxiu")?r.pro_phoneBindMarket:r.phoneBindMarket})},$loadMD5:function(){return l({name:"md5",src:r.MD5})},$loadingAIPlugin:function(){return l({name:"AIPlugin",src:s.EQX_AI_PLUGIN})},$loadUpgradeMembership:function(){return l({name:"upgradeMembershipJs",src:r.upgradeMembership})},$loadCompressor:function(){return l({name:"imgCompressorJs",src:r.compressor})},$loadingQywxPlugin:function(){return l({name:"addQywxPlugin",src:r.addQywx})}}},function(e,t,n){"use strict";e.exports={ajax:function(e){return new Promise((function(t,n){$.ajax($.extend({xhrFields:{withCredentials:!0},crossDomain:!0},e,{success:function(e){e&&!1===e.success?n(e):t(e)},error:function(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=console).error.apply(t,[e].concat(r)),n.apply(void 0,r)}}))}))},$ajax:function(e){return new Promise((function(t,n){$.ajax($.extend({},e,{success:function(e){e&&!1===e.success?n(e):t(e)},error:function(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=console).error.apply(t,[e].concat(r)),n.apply(void 0,r)}}))}))},fajax:function(e){return Promise.resolve(e)}}},function(e,t,n){"use strict";e.exports={getSafeRandom:function(){var e=window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto,t=new Uint8Array(2);e.getRandomValues(t);for(var n=0,i=0;i<t.length;i++)n=n<<8|t[i];return n/(Math.pow(2,16)-1)},getSafeRandomString:function(e){var t="abcdefghijklmnopqrstuvwxyz0123456789",n=t.length,i=new Uint8Array(e);(window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto).getRandomValues(i);for(var r="",o=0;o<e;o++)r+=t.charAt(i[o]%n);return r}}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,a=Object.create(r.prototype),s=new T(i||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function m(){}function v(){}var g={};u(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=v.prototype=h.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;o(this,"_invoke",{value:function(o,a){function s(){return new t((function(r,s){!function r(o,a,s,c){var l=p(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}(o,a,r,s)}))}return r=r?r.then(s,s):s()}})}function S(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=p(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=p(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(_.prototype),u(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new _(d(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(w),u(w,l,"Generator"),u(w,s,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){c(o,i,r,a,s,"next",e)}function s(e){c(o,i,r,a,s,"throw",e)}a(void 0)}))}}n(250);var u=n(37),d=u.getSharePopConfig,p=u.getTopLevelMaskConfig,f=u.getTopLevelMaskConfig2,h=n(1),m=n(5),v=m.addProtocol,g=m.getUrlParam,y=n(82),b=y.isLandScape,w=y.hasInputMaskPage,x=n(12).perfectStr,_=n(48).$getSmsCode,S=n(38).$bindPhone,E=n(7).$loadQRCode,k=n(30).getShareUrl,C=n(5).parseUrl;function T(e,t){var n=t?'style="z-index: '.concat(t,'"'):"",i=$('<div class="h5-pop-up-box" '.concat(n,'>\n                        <div class="pop-up-form">\n                            <div class="pop-up-content">\n                                <span class="pop-up-msg">').concat(x(e),'</span>\n                            </div>\n                            <div class="pop-up-btn"><a class="pop-up-btn-close">关闭</a></div>\n                        </div>\n                    </div>'));if($(".main-page.z-current").not(".editor-section").prepend(i),!w()&&b()){var r=i.find(".pop-up-form").height();i.find(".pop-up-form").css({transform:"rotate(90deg) translate3d(0px, 0px, 0px)",marginTop:"0px",top:"calc(50% - ".concat(r/2,"px)")})}$(".pop-up-btn").on("click",(function(){i.animate({opacity:0},{duration:300,complete:function(e){return i.remove()}})}))}function I(){var e;window.devScene.renderAd&&window.devScene.renderAd.popShare&&(e=$('<div class="h5-pop-up-box" style="display: none">\n                        <div class="pop-share-ad-form">\n                            <div class="pop-share-ad-content" id="pop-share-ad-ct">\n                            </div>\n                            <div rdt="3" cat="pc_editor" act="卡片_分享_点我制作" class="pop-share-btn"><span class="eqf-no-l"></span></div>\n                        </div>\n                    </div>'),$(".main-page.z-current").not(".editor-section").prepend(e),setTimeout((function(){window.devScene.renderAd.renderPopShareDom("#pop-share-ad-ct",(function(){e.css("display","block")}),(function(){e.remove(),t&&t.lrcCtr&&t.lrcCtr.show()}))}),100));var t=window.devScene.bgm;t&&t.lrcCtr&&t.lrcCtr.hide(),$(".pop-share-btn").on("click",(function(){e&&e.animate({opacity:0},{duration:300,complete:function(n){e.remove(),t&&t.lrcCtr&&t.lrcCtr.show()}})}))}function P(){var e,t=d();if(t&&t.shareCover){var n,i=t.stationAd,r=t.materialId,o=t.infoId,a=v(t.coverLink)+"&ad_abtest=tail-ad-".concat(i,"-").concat(o,"-").concat(r,"-0");n=/http/.test(t.shareCover)?t.shareCover:h.FILE+t.shareCover;var s='bd_attr="cat=尾页广告&act='.concat(i,"&material_id=").concat(r,"&activity_id=").concat(o,'"');e=$('<div class="h5-pop-up-box">\n                        <div class="pop-share-form">\n                            <div class="pop-share-content">\n                                <a rdt="3" cat="pc_editor" act="卡片_分享_图片连接" href="'.concat(a,'">\n                                    <img class="bdc" bigdata_view="0" ').concat(s,' style="width:277px;height:420px;" src="').concat(n,'">\n                                </a>\n                            </div>\n                        <div rdt="3" cat="pc_editor" act="卡片_分享_点我制作" class="pop-share-btn"><span class="eqf-no-l"></span></div>\n                    </div>\n                </div>')),$(".main-page.z-current").not(".editor-section").prepend(e);var c=window.devScene.bgm;c&&c.lrcCtr&&c.lrcCtr.hide(),$(".pop-share-btn").on("click",(function(){e&&e.animate({opacity:0},{duration:300,complete:function(t){e.remove(),c&&c.lrcCtr&&c.lrcCtr.show()}})}))}}function O(e){var t=e.msg,n=e.delay,i=void 0===n?1:n,r=$('<div class="wechat-toast">'.concat(t,"</div>"));$(".nr").append(r),setTimeout((function(){r.fadeOut((function(){r.remove()}))}),1e3*i)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"内容已复制",n=document.createElement("input");n.setAttribute("value",e),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),O({msg:t,delay:2})}e.exports={popUpModal:T,popShareModal:function(){var e=window.scene&&window.scene.property?window.scene.property:{},t=!1;t=Object.prototype.hasOwnProperty.call(e,"eqxLogoRemoval")?e.eqxLogoRemoval:e.adBagSwitch;var n=!1;n=Object.prototype.hasOwnProperty.call(e,"thirdPartyAdRemoval")?e.thirdPartyAdRemoval:e.adBagSwitch;if(n&&t)return;if(n&&!t)return void P();if(t&&!n)return void I();t||n||(window.devScene.renderAd&&window.devScene.renderAd.popShare?I():P())},popYaoModal:function(e,t){var n="https://lib.eqh5.com/%40eqxiu-res/h5/".concat(e,".png"),i="";switch(e){case"yaoyiyao":i="当前作品包含摇一摇动作，需要您在接下来的弹窗中允许获取授权才可使用";break;case"yaoyiyao2":i="由于您拒绝获取相关授权，将为您直接展示摇一摇结果";break;case"zhongli":i="当前作品包含重力感应，需要您在接下来的弹窗中允许获取授权才可使用";break;case"zhongli2":i="由于您拒绝获取相关授权，将无法体验重力感应效果";break;default:i="当前作品包含摇一摇动作，需要您在接下来的弹窗中允许获取授权才可使用"}var r=$('<div class="h5-pop-up-box">\n                        <div class="pop-yaoyiyao-form">\n                            <div class="pop-yaoyiyao-content">\n                                 <img style="width:270px;height:180px;" src="'.concat(n,"\">\n                                <div class='pop-info'>\n                                    ").concat(i,'\n                                </div> \n                                <div  class="pop-yaoyiyao-btn">知道了</div>\n                            </div>  \n                        </div>\n                    </div>'));$(".main-page.z-current").not(".editor-section").prepend(r);var o=window.scene||{};o.property&&o.property.orientation&&"landscape"===o.property.orientation.curr&&r.find(".pop-share-form").css({transform:"rotate(90deg) translate3d(0px, 0px, 0px)"});$(".pop-yaoyiyao-btn").on("click",(function(){"function"==typeof t&&t&&t(),r.animate({opacity:0},{duration:300,complete:function(e){r.remove()}})}))},popToast:function(e){var t=e.$ct,n=e.type,i=e.msg,r=e.delay,o={success:{icon:"eqf-yes-f",class:"notify-icon-suc"},warning:{icon:"eqf-alert-f",class:"notify-icon-warn"}};n=n||"warning";var a=$('<div class="pop-toast-box">\n                        <span class="pop-toast-icon '.concat(o[n].icon," ").concat(o[n].class,'"></span>\n                        <div class="pop-toast-msg">').concat(i,"</div>\n                    </div>"));t=t||$(".nr.preview-content"),r=r||3,t.append(a),setTimeout((function(){a.fadeOut((function(){a.remove()}))}),1e3*r)},popUpTip:function(e){var t=e.content,n=e.cancelText,i=$('<div class="h5-feedback-box">\n            <div class="pop-tip-container">\n                <div class="pop-tip-content">'.concat(t,'</div>\n                <div class="pop-tip-btn">').concat(n,"</div>\n            </div>\n        </div>"));$(".main-page.z-current").not(".editor-section").prepend(i),i.find(".pop-tip-btn").on("click",(function(){i.animate({opacity:0},{duration:300,complete:function(e){return i.remove()}})}))},popUpWxAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t,n){var i=$('\n                <div class="wx-auth-pop-up-container">\n                    <div class="wx-auth-pop-up-box">\n                        <div class="wx-auth-pop-up-msg">\n                            <i aria-hidden="true" class="eqf-alert-f" />\n                            <div class="msg">需微信登录后使用完整服务</div>\n                        </div>\n                        <div class="footer">\n                            <span class="cancel">仅浏览</span>\n                            <span class="confirm">\n                                <i aria-hidden="true" class="eqf-wechat"/>一键登录\n                            </span>\n                        </div>\n                    </div>\n                </div>');$(document.body).prepend(i);var r=i.find(".wx-auth-pop-up-box").animate({bottom:"-2px",opacity:1},{duration:300}),o=i.find(".confirm"),a=i.find(".cancel");e?(i.find(".footer").addClass("must-auth"),a.hide()):R("H5预览页-仅浏览按钮曝光"),R("H5预览页-一键登录按钮曝光"),o.on("click",(function(){r.animate({opacity:0,bottom:"-131px"},{duration:300,complete:function(e){i.remove(),t()}}),R("H5预览页-一键登录按钮点击","element_click")})),a.on("click",(function(){r.animate({opacity:0,bottom:"-130px"},{duration:300,complete:function(e){i.remove(),n(new Error("user reject auth"))}}),R("H5预览页-仅浏览按钮点击","element_click")}))}))},popUpPhoneCheck:function(e,t){return new Promise((function(n,i){var r=$('<div class="phone-check-container">\n            <div class="phone-check-dialog">\n                <div class="phone-check-title">\n                    <i aria-hidden="true" class="eqf-alert-f" />\n                    <div>\n                        根据作品设置，您需要验证手机号后才能领取红包\n                    </div>\n                </div>\n                <div class="phone-check-content">\n                    <span class="phone-number-input">\n                        <input placeholder="请输入手机号" />\n                    </span>\n                    <span class="verify-code-input">\n                        <input placeholder="验证码" />\n                    </span>\n                    <span class="request-verify-code">获取手机验证码</span>\n                </div>\n                <div class="phone-check-footer">\n                    <span class="phone-check-cancel">取消</span>\n                    <span class="phone-check-confirm">确定</span>\n                </div>\n            </div>\n        </div>'),o=r.find(".phone-number-input"),a=r.find(".phone-number-input input"),s=r.find(".verify-code-input"),c=r.find(".verify-code-input input"),l=r.find(".phone-check-confirm"),u=r.find(".phone-check-cancel"),d=r.find(".request-verify-code"),p=function(){var e=a.val();return e.trim()?!!/^\d{11}$/.test(e)||(o.addClass("error"),o.attr("data-error","请输入正确的手机号"),!1):(o.addClass("error"),o.attr("data-error","手机号不能为空"),!1)},f=function(){var e=a.val(),t=c.val();e&&t?l.addClass("active"):l.removeClass("active")},h=!1;d.on("click",(function(){var t=a.val();if(!h)if(h=!0,p()){var n=e.meta,i=n.userId,r=n.createUser;_(t,i||r).then((function(){var e=60,t=function(){d.addClass("count-tip"),d.text("重新发送".concat(e,"秒")),0===e&&(h=!1,d.removeClass("count-tip"),d.text("获取手机验证码"),clearInterval(n)),e--};t();var n=setInterval(t,1e3)})).catch((function(e){!e.code||150005!=e.code&&150001!=e.code&&150007!==e.code?T("发送失败，请重新发送",99999999):T(e.msg,99999999),h=!1}))}else h=!1})),a.on("focus",(function(){o.removeClass("error")})),c.on("focus",(function(){s.removeClass("error")})),a.on("keyup",f),c.on("keyup",f);var m=function(){r.animate({opacity:0,top:0},{duration:300,complete:function(e){r.remove()}})};u.on("click",(function(){m(),i(new Error("用户取消绑定手机号"))})),l.on("click",(function(){if(l.hasClass("active")){var i=e.meta.code,r=t.openid,o=a.val(),u=c.val();p()&&(c.val()||(s.addClass("error"),s.attr("data-error","请输入验证码"),0))&&S(i,r,o,u).then((function(){m(),n()})).catch((function(e){120813==e.code?(s.addClass("error"),s.attr("data-error",e.msg||"验证码错误")):120504==e.code&&T(e.msg)}))}})),$(".main-page.z-current").not(".editor-section").prepend(r),r.animate({top:"-100vh",opacity:1},{duration:300})}))},ImgPopUpModal:function(e){if(g("autoSlide")||g("autoPlay")&&g("autoPlayTime")||g("tool2video"))return;var t=$("<div class='form-product-pop-up-box2 zindexTop' id='wxPopUpModal'>\n                      <div class='pop-image-form'>\n                          <div class='form-head'>\n                              <i aria-hidden=\"true\" class='eqf-info-f'></i>\n                              <span>该作品只允许在微信内访问</span>\n                          </div>\n                          <div id='pop-image-logo'></div>\n                          <div class='form-bottom'><span>请用微信扫一扫进行访问</span></div>\n                      </div>\n                  </div>");if($("#wxPopUpModal")[0])return;$(".nr").prepend(t),$("#wxPopUpModal").get(0).addEventListener("mousemove",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}),function(e){E().then((function(){var t=C(k(e));t.searchParams.set("eqrcode",1),$("#pop-image-logo").qrcode({render:"canvas",size:180,text:t.href})}))}(e)},showQRModel:function(e,t){return M.apply(this,arguments)},popTopLevelMask:function(){var e,t=p();if(!t||!t.picSrc)return;var n='bd_attr="cat=顶级蒙层广告&act='.concat(t.mediaId,"&material_id=").concat(t.materialId,"&activity_id=").concat(t.id,'"');if(e=$('<div class="h5-pop-up-box" id=\'topLevelMasker\' style="z-index:9999999;">\n                    <div class="pop-top-level-container">\n                        <a rdt="3" cat="pc_editor" act="顶级蒙层广告_图片连接" href="'.concat(t.linkUrl,'">\n                            <img class="bdc" bigdata_view="0" ').concat(n,' src="').concat(t.picSrc,'">\n                        </a> \n                    </div>\n                </div>')),$("#topLevelMasker")[0])return;$(".nr").prepend(e);var i=$("#topLevelMasker").get(0);i&&(i.addEventListener("mousemove",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}),i.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}),i.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}))},popTopLevelMask2:function(){var e,t=f();if(!t||!t.picSrc)return;var n='bd_attr="cat=顶级蒙层广告商用预警&act='.concat(t.mediaId,"&material_id=").concat(t.materialId,"&activity_id=").concat(t.id,'"');if(e=$('<div class="h5-pop-up-box" id=\'topLevelMasker2\' style="z-index:9999999;">\n                    <div class="pop-top-level-container">\n                        <a rdt="3" cat="pc_editor" act="顶级蒙层广告商用预警_图片连接" href="'.concat(t.linkUrl,'" style="margin-top: -20px;">\n                            <img class="bdc" bigdata_view="0" ').concat(n,' src="').concat(t.picSrc,'">\n                        </a> \n                        <div class="close"><i class="eqf-no icon"></i></div>\n                    </div>\n                </div>')),$("#topLevelMasker2")[0])return;$(".nr").prepend(e);var i=$("#topLevelMasker2").get(0);i&&(i.addEventListener("mousemove",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}),i.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}),i.addEventListener("click",(function(e){var t;e.preventDefault(),e.stopPropagation(),["eqf-no icon","close"].includes(null===(t=e.target)||void 0===t?void 0:t.className)&&i.remove()}),{passive:!1}))}};var L={analysis:"查看答案解析",answer:"答题",lottery:"抽奖",redPacket:"领取红包",production:"浏览"};function M(){return(M=l(r().mark((function e(t,n){var i,o,s,c,l,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u.length>2&&void 0!==u[2]&&u[2],o=u.length>3?u[3]:void 0,s=u.length>4?u[4]:void 0,c="",c=2===s?$("<div class='form-product-pop-up-box2' id='servicePopUpModal'>\n            <div class='pop-image-form'>\n                ".concat(i?'<span class="eqf-no-f service-icon" id="serviceClose"></span>':"","\n                <div class='form-head'>\n                    <i aria-hidden=\"true\" class='eqf-info-f'></i>\n                    <span>活动仅限指定客户参加</span>\n                </div>\n                <div id='pop-image-logo'>\n                  <img id=\"pop-image-qrcode\" src=\"").concat(t,'" style="width:80%"/>\n                </div>\n                <div class=\'form-bottom\'><span>长按识别二维码<br />添加好友后，再来').concat(L[o],"吧</span></div>\n            </div>\n        </div>")):n?$("<div class='form-product-pop-up-box2' id='servicePopUpModal'>\n            <div class='pop-service'>\n                ".concat(i?'<span class="eqf-no other-icon" id="serviceClose"></span>':"",'\n                <h4>粉丝专享活动</h4>\n                <ul>\n                  <li>\n                    <div class="service-label">1、复制关键词</div>\n                    <a id="copyButton" class="service-copy">复制关键词</a>\n                  </li>\n                  <li>\n                    <div class="service-label">2、长按识别，关注公众号，回复关键词后再来').concat(L[o],'吧</div>\n                    <div class="qrcode-wrapper">\n                      <div id="pop-image-qrcode2"><img src="').concat(t,'" style="width:100%"></div>\n                    </div>\n                  </li>\n    \n                </ul>\n            </div>\n        </div>')):$("<div class='form-product-pop-up-box2' id='servicePopUpModal'>\n            <div class='pop-image-form'>\n                ".concat(i?'<span class="eqf-no-f service-icon" id="serviceClose"></span>':"","\n                <div class='form-head'>\n                    <i aria-hidden=\"true\" class='eqf-info-f'></i>\n                    <span>粉丝专享</span>\n                </div>\n                <div id='pop-image-logo'>\n                  <div id=\"pop-image-qrcode1\"></div>\n                </div>\n                <div class='form-bottom'><span>长按识别二维码<br />成为粉丝后，再来").concat(L[o],"吧</span></div>\n            </div>\n        </div>")),!$("#servicePopUpModal")[0]){e.next=7;break}return e.abrupt("return");case 7:if($(".nr").prepend(c),$(".form-product-pop-up-box2").get(0).addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()}),{passive:!1}),$("#serviceClose").click((function(){c.remove()})),1!==s){e.next=15;break}return e.next=13,E();case 13:l={render:"image",ecLevel:"H",text:t},n?$("#copyButton").click((function(){return A(n,"关键词已复制")})):$("#pop-image-qrcode1").qrcode(a(a({},l),{},{size:168}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"element_view",n={scene_id:window.scene.id,product:"h5",e_t:t,b_t:"editor",cat:"button",act:e};window._tracker_api_&&window._tracker_api_.report(n)}},function(e,t,n){"use strict";var i=n(5).getUrlParam,r=JSON.parse(decodeURIComponent(i("env"))),o=n(1),a=n(8).ajax,s=i("noreport");function c(){return r&&"xt"==r.from}function l(){return r&&"eqx_wx_min"==r.from}function u(){if(r&&r.prop)return r.prop.staffId}function d(){if(r&&r.prop)return r.prop.customerId}function p(){if(r&&r.prop)return r.prop.type}e.exports={isXiuTui:c,getNickname:function(){if(r&&r.prop)return r.prop.nk},getOpenId:function(){if(r&&r.prop)return r.prop.od},getCoverImg:function(){if(r&&r.prop)return r.prop.img},getInfos:function(){var e={};return r&&r.prop&&(r.prop.nk&&(e.nickname=r.prop.nk),r.prop.od&&(e.openid=r.prop.od),r.prop.img&&(e.headimgurl=r.prop.img)),e},xtPostForm:function(e,t){var n=function(){if(r&&r.post)return r.post}(),i=o.XUTTUI+"tui/mini/form/save",s={staffId:u(),customerId:d(),sceneId:e,formId:t,type:p()};return n&&!$.isEmptyObject(n)&&n.need&&(i=n.url,(s=n.param).sceneId=e,s.formId=t),a({type:"POST",url:i,data:s})},isEqxWxMini:function(){return c()||l()},workPostForm:function(e){var t=o.WORK_DOMAIN+"m/form/h5SaveForm";return a({type:"POST",url:t,data:e})},isMiniWebViewLoad:function(){return l()&&1==r.view_mode},isNoReport:function(){return s&&1==s}}},function(e,t,n){"use strict";function i(e){return e?e.replace(/<\s*(img|input)[^>]*\/?>/gi,"").replace(/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi,""):e}function r(e){return!!e&&(e=e.replace(/[↵\n\t\s]/g,""),/<\s*(img|input)[^>]*\/?>/gi.test(e)||/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi.test(e))}e.exports={toGoodStr:i,isBadStr:r,setJsCrypto:function(){return window.CryptoJS},perfectStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;return t&&t.length>0&&r(t=t.replace(/(^\s*)|(\s*$)/g,""))&&(console.error("xss text"),e=i(t)),e},getSafeJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.stringify(e);return t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),JSON.parse(t)},filterTags:function(e){return e?e.replace(/<\/?[^>]*>/gi,""):""},getSafeStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},getDangerousStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/&lt;/g,"<").replace(/&gt;/g,">");return t}}},function(e,t,n){"use strict";var i=n(1),r=Number.parseInt,o=n(8).$ajax,a=n(243),s=n(26).uploadBase64WithCOS;function c(e,t){return new Promise((function(n,i){var r=new Image;t&&(r.crossOrigin="Anonymous"),r.onload=function(){n(this)},r.onerror=r.onabort=function(){i(new Error("download image fail"))},r.src=e}))}function l(e,t,n,i){if(!e)return"";if(e.indexOf("lib.eqh5.com/%40eqxiu-res/")>-1)return e;if("string"!=typeof e)throw new Error("Typeof src is not string");var o=d(e);if(/^blob:/.test(e))return e;if(e.startsWith("data:image/"))return e;if(/\.(ico|svg)$/i.test(e.split("?")[0]))return encodeURI(o);if(!t)return/\?imageMogr2/.test(o)?o+="/quality/75":o+="",h()&&(o+=""),encodeURI(o);var a=function(e,t,n){/gif/.test(e)&&window.scene&&window.scene.ext&&window.scene.ext.yqc&&window.scene.ext.yqc.upd&&(t*=.75,n*=.75);var i=window.devicePixelRatio||1;t=r(t),n=r(n),t&&n?(t*=i,n*=i):n=t*=i;var o=5e4;t>n?t>o&&(n*=1-(t-o)/t,t=o):t<n?n>o&&(t*=1-(n-o)/n,n=o):t>o&&(t=n=o);return{width:t,height:n}}(e,t,n);t=a.width,n=a.height;var s="imageMogr2/auto-orient/thumbnail/"+Math.round(t)+"x"+Math.round(n)+">";return/\?imageMogr2/.test(e)?o+="|"+s:o+="?"+s,/\?imageMogr2/.test(o)?o+="/quality/75":o+="?imageMogr2/auto-orient/quality/75",h()&&(o+=""),encodeURI(o)}function u(e){if(e.indexOf("//")<0){var t=e.indexOf("/");if(t>-1){var n=e.slice(0,t);if(/.*\..*?\..*/g.test(n))return!0}}return!1}function d(e){if(e){if(/^blob:/.test(e))return e;if(/^file:/.test(e))return e;if((e=e.replace(/\/crop\//i,"/cut/")).startsWith("data:image/"))return e;var t=window.location.protocol;if(e.startsWith("//")&&"file:"!==t)return e=t+e;if(!e.startsWith("/")&&!e.startsWith("file://")){if(u(e))return t+"//"+e;if(/^https?:\/\//.test(e)){for(var n,r=[i.BIND_USER_FILE,i.FREE_USER_FILE,i.VIP_USER_FILE],o=0;o<r.length;o++)if(n=r[o],e.startsWith(n)){e=e.replace(n,i.FILE);break}return e}return e=i.FILE+e}return e.startsWith("http")||(e=i.FILE+e.replace(/^\//,"")),e}console.error("add prefix invalid src")}function p(e){return c(e).then((function(e){return{width:e.width,height:e.height,ratio:e.width/e.height}}))}var f=null;function h(){if(null!==f)return f;var e=!![].map&&0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp");return f=e||function(){var e=-1;if(window.navigator&&window.navigator.userAgent){var t=navigator.userAgent.toLocaleLowerCase();if(/ipad|iphone/i.test(navigator.userAgent)){var n=t.match(/cpu iphone os (.*?) like mac os/)||"";n&&n.length&&(e=r(n[1].replace(/_/g,".")))}}return e}()-14>=0}function m(e,t,n){return new Promise((function(r){var o=new Image;o.setAttribute("crossOrigin","anonymous"),getImgFromOrigin(e.src).then((function(a){o.src=i.FILE+a.obj;var s=document.createElement("canvas");s.width=t||e.width,s.height=n||e.height;var c=s.getContext("2d");o.onload=function(){c.drawImage(o,0,0,s.width,s.height);var e=s.toDataURL("image/png",1);r(e)}}))}))}e.exports={loadImg:c,qiniuZoom:l,addPrefix:d,initEffectImgPath:function(e){if(e.indexOf("lib.eqh5.com/%40eqxiu-res/")>-1)return e;var t=window.location.protocol;if(e){if(/^http.*/.test(e)){var n=e.match(/http/g).length;return n>1?e.substring(e.indexOf("http",n-1)):e}if(/^blob:/.test(e)||e.startsWith("data:image/"))return e;if(e.startsWith("//")&&"file:"==t)return"http:"+e;if(e.startsWith("//"))return e;if("file:"==t&&e.startsWith("file://"))return e;var r=e.replace(/\/crop\//i,"/cut/");return i.FILE+r}return e},getImgShapeByNativeFile:function(e){var t=window.URL||window.webkitURL;try{var n=t.createObjectURL(e)}catch(e){return Promise.reject(new TypeError("不支持URL.createObjectURL"))}return p(n)},getImgShape:function(e,t){if(e.shape)return Promise.resolve(e.shape);var n=l(e.path,t||115),r=i.FILE+e.path,o=0;return c(r).then((function(e){return o=e.width/e.height,c(n)})).then((function(e){var t=window.devicePixelRatio||1,n=e.height/t;return{width:n*o,height:n,ratio:o}}))},getImgShapeBySrc:p,getQiniuImgInfo:function(e){var t=d(e);return t=t.replace(/\?.*$/,""),o({method:"GET",url:t+="?imageInfo"})},uploadImg:function(e){var t;return new Promise((function(n){a.parseMetaData(e,(function(i){if(i&&i.exif&&1!==i.exif.get("Orientation")){a(e,(function(e){t=e.toDataURL(),n(t)}),{orientation:!0,canvas:!1})}else t=a.createObjectURL(e),n(t)}),{maxMetaDataSize:262144,disableImageHead:!1})}))},getBase64Image:m,getBase64ImageBySrc:function(e,t){return new Promise((function(n){var i=new Image;i.setAttribute("crossOrigin","anonymous");var r=document.createElement("canvas"),o=r.getContext("2d");i.onload=function(){r.width=i.width,r.height=i.height,90===t?(r.width=i.height,r.height=i.width,o.rotate(t/180*Math.PI),o.drawImage(i,0,-r.width)):o.drawImage(i,0,0,r.width,r.height);var e=r.toDataURL("image/png",1);n(e)},i.src=e}))},canvasToImage:function(e){var t=document.createElement("img");t.style.backgroundColor=e.style.backgroundColor,t.width=e.width,t.height=e.height;var n=e.toDataURL("image/png",1);return t.src=n,t},isSupportWebp:h,isTotalUrlWithoutDoubleSlash:u,dataURItoBlob:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t,n="";t=e.split(",")[0].indexOf("base64")>=0?window.atob(e.split(",")[1]):unescape(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0];for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new window.Blob([i],{type:n})}catch(e){console.log(e)}},getImgInfo:function(e){if(!e)return{};if(/\S*\.svg$/.test(e))return Promise.resolve({width:100,height:100});var t=d(e);return t=t.replace(/\?.*$/,""),o({method:"GET",url:t+="?imageInfo"})},rotateImage:function(e,t){return"string"!=typeof e?m(e,t):e.includes("?")?e.includes("imageMogr2")?Promise.resolve("".concat(e,"|imageMogr2/rotate/").concat(t)):Promise.resolve("".concat(e,"&imageMogr2/rotate/").concat(t)):Promise.resolve("".concat(e,"?imageMogr2/rotate/").concat(t))},wxImg2CosUrl:function(e){return new Promise((function(t,n){var i;(i=e,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("get",i,!0),n.responseType="blob",n.onload=function(){(n.status>=200&&n.status<300||304===n.status)&&e(n.response)},n.onerror=function(){t()},n.send()}))).then((function(e){return function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}(e,(function(e){s(e).then((function(e){t(e)}))}))})).catch((function(){return t()}))}))}}},function(e,t,n){"use strict";var i=n(9).getSafeRandom,r=Date.now()+""+Math.floor(1e5*i());e.exports={COMP_TYPE:{16:"EqxPipButton",1:"EqxHotNewText",13:"EqxPhotoWall",7:"EqxNewText",2:"EqxText",x:"EqxText",298:"EqxDeepShare",299:"EqxReport",3:"EqxBackground",4:"EqxImage",8:"EqxTelephone",9:"EqxRedPacket",10:"EqxRandomContent",11:"EqxReward",b:"EqxComment",h:"EqxShape",i:"EqxCount",l:"EqxLink",t:"EqxChart",v:"EqxVideo",o:"EqxInteractiveVideo",p:"EqxImageSlider",m:"EqxMap",n:"EqxRandom",s:"EqxSound",d:"EqxPv",g:"EqxAdvertise",e:"EqxDownTime",f:"EqxUpTime",upload:"EqxUploadImages",idCard:"EqxIdCard",a:"EqxScore",c:"EqxCheckbox",r:"EqxRadio",z:"EqxDropDownList",5:"EqxInput",501:"EqxInput",502:"EqxInputPhone",503:"EqxInputEmail",504:"EqxInput",505:"EqxInputDate",6:"EqxSubmitButton",601:"EqxSubmitButton",12:"EqxSMS",201:"EqxWxNickName",401:"EqxWxProfile",403:"EqxWxUploadImage",w01:"EqxWxSoundPlay",w02:"EqxWxSoundRecord",j:"EqxImgVote",k:"EqxTextVote",q:"EqxGravity",u:"EqxDrawingBoard",14:"EqxDate",17:"EqxWeChatCard",18:"EqxTurntable",19:"EqxSmashEgg",20:"EqxScratchcard",21:"EqxRedPackets",2021:"EqxRedEnvelopes",22:"EqxNineSquare",23:"EqxQrcode",24:"EqxLongTouchSavePicButton",25:"EqxWordArt",26:"EqxSpeechRecognition",27:"EqxMagicCube",28:"EqxBuoy",29:"EqxFormRandom",30:"EqxDynamicNumber",31:"EqxLocation",32:"EqxImgGroup",33:"EqxFaceCheck",34:"EqxAgeChange",35:"EqxFaceMerge",36:"EqxCatalogue",37:"EqxWeather",66:"EqxGameTurnTable",65:"EqxGameTurnTable",38:"EqxCustomerCare",39:"EqxShop",answer:"EqxAnswer",titleNumber:"EqxTitleNumber",countDown:"EqxCountDown",answerScore:"EqxAnswerScore",analysis:"EqxAnalysis",answerPerson:"EqxAnswerPerson",answerRemainder:"EqxAnswerRemainder",ranking:"EqxRanking",answerHistory:"EqxAnswerHistory"},FORM_COMPS:["upload","idCard","5","501","502","503","504","505","c","r","z","a","12"],WX_COMPS:["201","401","403","w01","w02","j","k","11","9","b","13","17","18","19","20","21","22","29","2021","39","barrage"],WX_CLICK_FARMER_COMPS:["i","6","601"],FIX_INDEX_COMPS:["3","q"],COMP_KEY:r,ANSWERS_COMPS:["answer","titleNumber","countDown","startAnswer","restartAnswer","answerScore","analysis","answerHistory","answerPerson","answerRemainder","ranking","rankingList"]}},function(e,t,n){(function(t){/*! For license information please see index.js.LICENSE.txt */
